<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>Flipped</title>
  
  
  <link href="https://sknyt.xyz/atom.xml" rel="self"/>
  
  <link href="https://sknyt.xyz/"/>
  <updated>2022-01-30T11:38:18.470Z</updated>
  <id>https://sknyt.xyz/</id>
  
  <author>
    <name>ShikanoYuta</name>
    
  </author>
  
  <generator uri="https://hexo.io/">Hexo</generator>
  
  <entry>
    <title>终于要开始学HTML了吗！</title>
    <link href="https://sknyt.xyz/Study/%E7%BB%88%E4%BA%8E%E8%A6%81%E5%BC%80%E5%A7%8B%E5%AD%A6HTML%E4%BA%86%E5%90%97%EF%BC%81/"/>
    <id>https://sknyt.xyz/Study/%E7%BB%88%E4%BA%8E%E8%A6%81%E5%BC%80%E5%A7%8B%E5%AD%A6HTML%E4%BA%86%E5%90%97%EF%BC%81/</id>
    <published>2022-01-30T08:50:33.000Z</published>
    <updated>2022-01-30T11:38:18.470Z</updated>
    
    <content type="html"><![CDATA[<p>就是说换了电脑终于有动力学网页了！！</p><p>HTML <a href="https://blog.csdn.net/wuyxinu/article/details/103515157">https://blog.csdn.net/wuyxinu/article/details/103515157</a><br>CSS <a href="https://blog.csdn.net/wuyxinu/article/details/103583618">https://blog.csdn.net/wuyxinu/article/details/103583618</a><br>JS <a href="https://blog.csdn.net/wuyxinu/article/details/103642800">https://blog.csdn.net/wuyxinu/article/details/103642800</a><br>JS-下 <a href="https://blog.csdn.net/wuyxinu/article/details/103646041">https://blog.csdn.net/wuyxinu/article/details/103646041</a><br>还有jQuery的 <a href="https://blog.csdn.net/wuyxinu/article/details/103669718">https://blog.csdn.net/wuyxinu/article/details/103669718</a><br>Node.js + Gulp 知识点汇总 <a href="https://blog.csdn.net/wuyxinu/article/details/103774211">https://blog.csdn.net/wuyxinu/article/details/103774211</a><br>Vue 知识点汇总（上）–附案例代码及项目地址 <a href="https://blog.csdn.net/wuyxinu/article/details/103965753">https://blog.csdn.net/wuyxinu/article/details/103965753</a><br>Vue 知识点汇总（下）–附案例代码及项目地址 <a href="https://blog.csdn.net/wuyxinu/article/details/103966175">https://blog.csdn.net/wuyxinu/article/details/103966175</a><br>JavaScript面向对象编程浅析 <a href="https://blog.csdn.net/wuyxinu/article/details/115751332">https://blog.csdn.net/wuyxinu/article/details/115751332</a><br>JavaScript设计模式 <a href="https://blog.csdn.net/wuyxinu/article/details/115839575">https://blog.csdn.net/wuyxinu/article/details/115839575</a></p><a id="more"></a><h3 id="一-开始"><a href="#一-开始" class="headerlink" title="一. 开始"></a>一. 开始</h3><ul><li>初始化 <code>html:5</code></li></ul><h4 id="lt-head-gt-中设置"><a href="#lt-head-gt-中设置" class="headerlink" title="&lt;head&gt;中设置"></a><code>&lt;head&gt;</code>中设置</h4><ul><li>设置字符集：UTF-8、gb2312、gbk  <code>    &lt;meta charset=&quot;UTF-8&quot;&gt;</code></li><li>设置关键字（搜索引擎） <code>&lt;meta content=&quot;Hello World&quot; name=&quot;Keywords&quot;</code></li><li>设置网页描述（搜索引擎）<code>&lt;meta content=&quot;Hello World&quot; name=&quot;Keywords&quot;</code></li><li>设置浏览器标签文字 <code>&lt;title&gt;&lt;/title&gt;</code></li></ul><h3 id="二-标签"><a href="#二-标签" class="headerlink" title="二.标签"></a>二.标签</h3><ul><li>单标签：<X></li><li>双标签：<X> </X></li></ul><table><thead><tr><th>单标签</th><th>双标签</th></tr></thead><tbody><tr><td>img</td><td>h1-h6</td></tr><tr><td>br</td><td>div</td></tr><tr><td>hr</td><td>span</td></tr><tr><td></td><td>p</td></tr><tr><td></td><td></td></tr></tbody></table><ul><li><p>容器级：元素内部除了可存放文本外还可以嵌套标签</p></li><li><p>文本级：元素内部只能存档文本或文本级标签</p></li></ul><table><thead><tr><th>容器级</th><th>文本级</th></tr></thead><tbody><tr><td>div、u1、h1-h6、li、dl、d1、dt</td><td>span、img、b、u、i</td></tr><tr><td></td><td></td></tr></tbody></table><h4 id="1-标签属性"><a href="#1-标签属性" class="headerlink" title="1.标签属性"></a>1.标签属性</h4><ul><li>书写位置：开始标签或单标签签名后：<code>&lt;a href=&quot;#&quot;&gt;内容&lt;/a&gt;</code></li><li>对应写法：key = “value”</li></ul><h4 id="2-标签之间对空白换行缩进不敏感"><a href="#2-标签之间对空白换行缩进不敏感" class="headerlink" title="2.标签之间对空白换行缩进不敏感"></a>2.标签之间对空白换行缩进不敏感</h4><ul><li>文字的位置不会根据书写标签位置决定，而是根据标签的种类（块级还是行内级决定）</li></ul><h4 id="3-文本的空白折叠现象"><a href="#3-文本的空白折叠现象" class="headerlink" title="3.文本的空白折叠现象"></a>3.文本的空白折叠现象</h4><ul><li><p>空格：<code>&amp;nbsp;</code></p></li><li><p>换行：<code>&lt;br&gt;</code></p><h4 id="4-常用标签"><a href="#4-常用标签" class="headerlink" title="4.常用标签"></a>4.常用标签</h4></li><li><p>h系列标签 双，容 权重高  <code>&lt;h1&gt; &lt;/h1&gt;</code></p><ul><li><p>权重： 对我们：文本的权重，设置h标签的文字有标题的权重</p></li><li><p>对于浏览器：搜索引擎优化（除meta标签外），通常只用一个h1作为logo</p></li></ul></li><li><p>p标签 双，文 段落（paragraph）<code>&lt;p&gt; &lt;/p&gt;</code></p></li><li><p>img标签 单，文 在指定位置插入图片</p><ul><li><p>src：引入图片路径</p></li><li><p>alt：无法加载时替换文本</p></li><li><p>width：宽度 height：高度 （通常只用一个以等比例缩放）</p></li><li><p>title：鼠标移上的悬停文本</p></li><li><p>border：边框 （了解，实例中使用CSS）</p></li></ul><p><code>&lt;img src=&quot;&quot; alt=&quot;&quot; title=&quot;&quot; border=&quot;10px&quot; width= &quot;200px&quot;&gt;</code></p></li><li><p>相对路径与绝对路径</p><p>引入路径：<code>&lt;img src=&quot;/imgs/1&quot;&gt;</code></p><ul><li>相对路径：从html文件出发，找到图片位置路径<ul><li>进入<code>/</code> 出 <code>../</code></li></ul></li><li>绝对路径：盘符、网址</li></ul></li><li><p>a标签 双，文 添加超链接</p><ul><li><p>href：跳转地址（绝对或相对均可）</p><p>  <code>&lt;a href=&quot;https://www.baidu.com&quot;&gt;&lt;/a&gt;</code></p></li><li><p>target：是否在新标签页打开链接 值一定是_blank</p></li><li><p>title：鼠标移上的悬停文本</p></li><li><p>页面锚点（页面内跳转）</p><ul><li><p>方法一：设置锚点 <code>&lt;a name=&quot;XXX&quot;&gt;&lt;/a&gt;</code></p><p>使用锚点<code>&lt;a href=&quot;#XXX&quot;&gt;&lt;/a&gt;</code></p><p>一定要加”#”</p></li><li><p>方法二：其他标签增加id属性<code>&lt;h3 id=&quot;2&quot;&gt;&lt;/h3&gt;</code></p><p><code>&lt;a href=&quot;# 2&quot;&gt;&lt;/a&gt;</code></p></li></ul></li></ul></li><li><p>列表</p><ul><li><p>无序列表 u1,li 双，容</p><p><code>&lt;u1&gt;</code></p><p><code>&lt;li&gt;1&lt;/li&gt;</code></p><p><code>&lt;li&gt;2&lt;/li&gt;</code></p><p><code>&lt;/u1&gt;</code></p><p>u1中必须嵌套li，li中可以嵌套任何标签</p><p>前缀样式由CSS控制</p></li><li><p>有序列表 ol,li  </p><p><code>&lt;ol&gt;</code></p><p><code>&lt;li&gt;1&lt;/li&gt;</code></p><p><code>&lt;li&gt;2&lt;/li&gt;</code></p><p><code>&lt;/o1&gt;</code></p></li><li><p>定义列表 dl,dt,dd</p><p>dl: defination list 创建自定义列表结构</p><p>dt: defination term 定义主题或术语</p><p>dd: defination description 定义解释项，解释说明主题内容</p><p>dl中只能存放dt和dd，dt与dd为同级关系</p><p>基本使用：每个dt后可跟0~多个dd，dd解释最近的dt</p><p>dt与dd为容器级标签，可存放任意内容</p><p>实例：&lt;a href=”<a href="https://jd.com&gt;京东/">https://jd.com&gt;京东</a></a>左侧列表</p></li></ul></li></ul>]]></content>
    
    
    <summary type="html">&lt;p&gt;就是说换了电脑终于有动力学网页了！！&lt;/p&gt;
&lt;p&gt;HTML &lt;a href=&quot;https://blog.csdn.net/wuyxinu/article/details/103515157&quot;&gt;https://blog.csdn.net/wuyxinu/article/details/103515157&lt;/a&gt;&lt;br&gt;CSS &lt;a href=&quot;https://blog.csdn.net/wuyxinu/article/details/103583618&quot;&gt;https://blog.csdn.net/wuyxinu/article/details/103583618&lt;/a&gt;&lt;br&gt;JS &lt;a href=&quot;https://blog.csdn.net/wuyxinu/article/details/103642800&quot;&gt;https://blog.csdn.net/wuyxinu/article/details/103642800&lt;/a&gt;&lt;br&gt;JS-下 &lt;a href=&quot;https://blog.csdn.net/wuyxinu/article/details/103646041&quot;&gt;https://blog.csdn.net/wuyxinu/article/details/103646041&lt;/a&gt;&lt;br&gt;还有jQuery的 &lt;a href=&quot;https://blog.csdn.net/wuyxinu/article/details/103669718&quot;&gt;https://blog.csdn.net/wuyxinu/article/details/103669718&lt;/a&gt;&lt;br&gt;Node.js + Gulp 知识点汇总 &lt;a href=&quot;https://blog.csdn.net/wuyxinu/article/details/103774211&quot;&gt;https://blog.csdn.net/wuyxinu/article/details/103774211&lt;/a&gt;&lt;br&gt;Vue 知识点汇总（上）–附案例代码及项目地址 &lt;a href=&quot;https://blog.csdn.net/wuyxinu/article/details/103965753&quot;&gt;https://blog.csdn.net/wuyxinu/article/details/103965753&lt;/a&gt;&lt;br&gt;Vue 知识点汇总（下）–附案例代码及项目地址 &lt;a href=&quot;https://blog.csdn.net/wuyxinu/article/details/103966175&quot;&gt;https://blog.csdn.net/wuyxinu/article/details/103966175&lt;/a&gt;&lt;br&gt;JavaScript面向对象编程浅析 &lt;a href=&quot;https://blog.csdn.net/wuyxinu/article/details/115751332&quot;&gt;https://blog.csdn.net/wuyxinu/article/details/115751332&lt;/a&gt;&lt;br&gt;JavaScript设计模式 &lt;a href=&quot;https://blog.csdn.net/wuyxinu/article/details/115839575&quot;&gt;https://blog.csdn.net/wuyxinu/article/details/115839575&lt;/a&gt;&lt;/p&gt;</summary>
    
    
    
    <category term="Study" scheme="https://sknyt.xyz/categories/Study/"/>
    
    
    <category term="HTML" scheme="https://sknyt.xyz/tags/HTML/"/>
    
  </entry>
  
  <entry>
    <title>わけについて</title>
    <link href="https://sknyt.xyz/%E6%97%A5%E6%9C%AC%E8%AA%9E/Wake/"/>
    <id>https://sknyt.xyz/%E6%97%A5%E6%9C%AC%E8%AA%9E/Wake/</id>
    <published>2021-03-14T01:36:57.000Z</published>
    <updated>2021-03-14T02:11:50.036Z</updated>
    
    <content type="html"><![CDATA[<p>​    読解を解読してる場合、一番困ってる文法は「わけ」というものだあろうので、せっかく「わけ」について様々で複雑な似てる文法を整理しくる。</p><a id="more"></a><hr><ul><li><p>わけだ</p><ul><li><p>意味：难怪……呢；怪不得……呢</p></li><li><p>書き換え慣用：だから〜なのだ；なるほど、だから〜なのか</p></li><li><p>例：</p><p>①A：今年は台風の被害が多かったそうよ<br>　B：野菜の値段が上がる<strong>わけね</strong><br>　→<strong>だから</strong>野菜の値段が上がった<strong>のね</strong></p><p>A：今年台风灾害很严重啊。</p><p>B：难怪蔬菜涨价了呢。</p><p>②A：今日は全品半額らしいよ<br>　B：ああ、だから人が多い<strong>わけだ</strong><br>　→ああ、<strong>だから</strong>人が多い<strong>ん**</strong>だね**</p><p>A：今天好像全部半价哦。</p><p>B：啊，怪不得人多呢。</p></li></ul></li></ul><ul><li><p>わけがない</p><ul><li><p>意味：绝对不会</p></li><li><p>書き換え慣用：絶対〜ない</p></li><li><p>例：</p><p>①こんなに高いバッグ、買える<strong>わけがない</strong>よ<br>→こんなに高いバッグ、<strong>絶対に</strong>買え<strong>ない</strong>よ。</p><p>这么贵的包，绝对不能买。<br>②そんなこと、ある<strong>わけない</strong>よ！<br>　→そんなこと、<strong>絶対ない</strong>よ！</p><p><em>那种事，绝对不会有！</em></p><hr><p>～わけがない是“可能性完全没有”的意思，如果前面接否定变“双重否定”意思就是“可能性大大地有”。比如：</p><p><strong>あなたにできないわけがない。</strong></p><p><em>你绝对做得到。</em></p></li></ul></li><li><p>わけではない</p><ul><li><p>意味：并不是</p></li><li><p>書き換え慣用：〜全部〜ではない</p></li><li><p>例：</p><p>①フルーツが嫌いな<strong>わけではない</strong><br>→フルーツが<strong>全部</strong>嫌いなの<strong>ではなくて</strong>、好きなものもある【部分否定】<br>→フルーツは嫌いだ【委婉地表达否定】</p><p><em>并不全是讨厌水果。</em></p><p>（内心戏：也有喜欢的水果，但至少你摆在我面前的这个我不喜欢，我拒绝）。</p><p>②図書館の本を全部読んだ<strong>わけではない</strong>。<br>→図書館の本を<strong>全部</strong>読んだの<strong>ではない</strong>が、ほとんど読んだ【部分否定】<br>→図書館の本を全部読んだの<strong>ではない</strong>（委婉地表达否定）</p><p><em>并不是把图书馆所有的书都读了。</em></p><p><em>（内心戏：读过一部分，甚至一大部分，但是不敢保证你考我的这本我读没读过）</em></p><p>③テニスができない<strong>わけではない</strong><br>→テニスが<strong>全然</strong>できないの<strong>ではなくて</strong>、少しはできる【部分否定】<br>→テニスが<strong>できない</strong>【委婉地否定】</p><p><em>也不是完全不会打网球。</em></p><p><em>（内心戏：会一点，但肯定没优秀到你想象的水平，总之各种原因我现在不想打）</em></p></li></ul></li><li><p>わけにはいかない</p><ul><li><p>意味：（客观）不能做某事</p></li><li><p>書き換え慣用：〜することができない</p></li><li><p>例：</p><p>①明日は試験だ。まだ寝る<strong>わけにはいかない</strong><br>→明日は試験<strong>だから</strong>、まだ寝る<strong>ことができない</strong>（背景：要考试）</p><p>明天要考试，我还不能睡。</p><p>②今日は大事な会議がある。熱があるが会社を休む<strong>わけにはいかない</strong><br>→今日は大事な会議がある<strong>から</strong>、熱があるが会社を休む<strong>ことができない</strong>（背景：有会议）</p><p>明天有重要会议，所以尽管发烧我也不能休假。</p><p>需要非常非常注意的是：わけにはいかない偏向于因为客观原因，导致自己无法做某事。而不是因为自身原因、或者能力不足，无法做某事。比如：</p><p>❌魚のにおいが苦手なので、食べるわけにはいかない<br>⭕️魚のにおいが苦手なので、食べることができない</p><p>因为不喜欢鱼的味道，所以我不能吃鱼。</p><p><em>这里“不喜欢鱼的味道”是自身原因</em></p><p>❌英語の授業が嫌いだったので、今でも話すわけにはいかない<br>⭕️英語の授業が嫌いだったので、今でも話すことができない</p><p>因为讨厌英语课，所以我到现在都没法说英语。</p><p><em>这里“讨厌英语课”是自身原因</em></p></li></ul></li><li><p>ないわけにはいかない</p><ul><li><p>意味：（客观）必须做某事</p></li><li><p>書き換え慣用：〜なければならない</p></li><li><p>例：</p><p>①明日は試験だ。勉強し<strong>ないわけにはいかない</strong></p><p>→明日は<strong>試験だから</strong>、勉強<strong>しなければならない</strong>（客观原因：要考试）</p><p>明天要考试，我不得不学习。</p><p>②上司に誘われたら、行か<strong>ないわけにはいかない</strong></p><p>→上司に<strong>誘われから</strong>、行か<strong>なければならない</strong>（客观原因：被上司邀请）</p><p>被上司邀请了，我不得不去。</p></li></ul></li><li><p>（という）わけ</p><ul><li><p>意味：理由，原因</p></li><li><p>書き換え慣用：（という）理由</p></li><li><p>例：</p><p>①遅刻したのには、<strong>わけ</strong>があるんです</p><p>→遅刻したのには、<strong>理由</strong>があるんです</p><p>②会社を休んだ<strong>わけ</strong>を聞く</p><p>→会社を休んだ<strong>理由</strong>を聞く</p><p>③A：どうしてパーティーに来なかったの？<br>B：妹が病気になって、病院に連れて行っていた<strong>というわけ</strong>さ<br>→妹が病気になって、病院に連れて行っていた<strong>から</strong>さ</p></li></ul></li><li><p>わけがわからない</p><ul><li><p>意味：不能理解</p></li><li><p>書き換え慣用：全然わからない</p></li><li><p>例：</p><p>①何が書いてあるのか、<strong>わけがわからない</strong><br>→何が書いてあるのか、<strong>全然わからない</strong></p><p>写的啥完全不能理解。</p><p>②</p><p>何が言いたいのか、<strong>わけがわからないよ</strong>…<br>→何が言いたいのか、<strong>全然わからないよ</strong>…</p><p>想说啥毫无头绪。</p><hr><p>わけがわからない实际经常用在口语中，口语形可以用：わけわかんない 比如：</p><p>何言ってるのか、<strong>わけわかんないよ</strong></p><p>在说啥，完全搞不懂。</p></li></ul></li><li><p>わけない</p><ul><li><p>意味：非常简单</p></li><li><p>書き換え慣用：とても簡単だ</p></li><li><p>例：</p><p>①N４の文法なんて<strong>わけない</strong></p><p>→N４の文法なんて<strong>とても簡単だ</strong></p><p>②やってみると<strong>わけなく</strong>できるよ</p><p>→やってみると<strong>簡単に</strong>できるよ</p><hr><p>ご注意：</p><ol><li><p>わけない 这里中间没有が，千万不要用成わけがない，二者完全不一样。 </p></li><li><p>わけない 这里的用法和接续都类似形容词，把它作为一个形容词来记忆就好了。</p></li></ol></li></ul></li></ul><iframe frameborder="no" border="0" marginwidth="0" marginheight="0" width=330 height=86 src="//music.163.com/outchain/player?type=2&id=26113761&auto=0&height=66"></iframe>]]></content>
    
    
    <summary type="html">&lt;p&gt;​    読解を解読してる場合、一番困ってる文法は「わけ」というものだあろうので、せっかく「わけ」について様々で複雑な似てる文法を整理しくる。&lt;/p&gt;</summary>
    
    
    
    <category term="日本語" scheme="https://sknyt.xyz/categories/%E6%97%A5%E6%9C%AC%E8%AA%9E/"/>
    
    
    <category term="Grammar" scheme="https://sknyt.xyz/tags/Grammar/"/>
    
  </entry>
  
  <entry>
    <title>Hello,Mars</title>
    <link href="https://sknyt.xyz/%E4%B8%8D%E7%9F%A5%E9%81%93%E7%AE%97%E4%BB%80%E4%B9%88%E4%B8%9C%E8%A5%BF/HelloMars/"/>
    <id>https://sknyt.xyz/%E4%B8%8D%E7%9F%A5%E9%81%93%E7%AE%97%E4%BB%80%E4%B9%88%E4%B8%9C%E8%A5%BF/HelloMars/</id>
    <published>2021-03-12T07:54:11.000Z</published>
    <updated>2021-03-12T07:59:58.720Z</updated>
    
    <content type="html"><![CDATA[<iframe width="588" height="246" src="https://mars.nasa.gov/layout/embed/send-your-name/future/certificate/?cn=51503921857" frameborder="0"></iframe>]]></content>
    
    
      
      
    <summary type="html">&lt;iframe width=&quot;588&quot; height=&quot;246&quot; src=&quot;https://mars.nasa.gov/layout/embed/send-your-name/future/certificate/?cn=51503921857&quot; frameborder=&quot;0&quot;&gt;</summary>
      
    
    
    
    <category term="不知道算什么东西" scheme="https://sknyt.xyz/categories/%E4%B8%8D%E7%9F%A5%E9%81%93%E7%AE%97%E4%BB%80%E4%B9%88%E4%B8%9C%E8%A5%BF/"/>
    
    
    <category term="随记" scheme="https://sknyt.xyz/tags/%E9%9A%8F%E8%AE%B0/"/>
    
  </entry>
  
  <entry>
    <title>将棋向</title>
    <link href="https://sknyt.xyz/%E6%97%A5%E6%9C%AC%E8%AA%9E/%E5%B0%86%E6%A3%8B%E5%90%91/"/>
    <id>https://sknyt.xyz/%E6%97%A5%E6%9C%AC%E8%AA%9E/%E5%B0%86%E6%A3%8B%E5%90%91/</id>
    <published>2021-03-03T14:37:04.000Z</published>
    <updated>2021-03-03T15:02:53.491Z</updated>
    
    <content type="html"><![CDATA[<p>以此用来致敬吴老师</p><a id="more"></a><h4 id="将棋盤（しょうぎばん）"><a href="#将棋盤（しょうぎばん）" class="headerlink" title="将棋盤（しょうぎばん）"></a>将棋盤（しょうぎばん）</h4><p>【将棋盘】<br>将棋的棋盘9x9=81格,多数情况略作”棋盘”</p><h4 id="駒（こま）"><a href="#駒（こま）" class="headerlink" title="駒（こま）"></a>駒（こま）</h4><p>【棋子/驹】<br>将棋的棋子<br>译作棋子或驹都可以<br>根据中文语感<br>建议当こま单独作为单字出现的时候，偏向译作“棋子”<br>当駒与其他单字组成固有词语时候，沿用日文原文字“驹”</p><h4 id="自陣（じじん）"><a href="#自陣（じじん）" class="headerlink" title="自陣（じじん）"></a>自陣（じじん）</h4><p>【自阵】<br>将棋盘上临近自己的三行格子</p><h4 id="敵陣（てきじん）"><a href="#敵陣（てきじん）" class="headerlink" title="敵陣（てきじん）"></a>敵陣（てきじん）</h4><p>【敌阵】<br>将棋盘上临近对手的三行格子</p><h4 id="筋（すじ）"><a href="#筋（すじ）" class="headerlink" title="筋（すじ）"></a>筋（すじ）</h4><p>【筋】<br>将棋盘上整竖条的格子,从右至左用阿拉伯数字1-9表示<br>1~9筋</p><h4 id="段（だん）"><a href="#段（だん）" class="headerlink" title="段（だん）"></a>段（だん）</h4><p>【段】<br>与段位概念相区别,本条专指将棋盘上的段<br>将棋盘上整横条的格子,自先手方视点,从上至下用汉字一-九表示<br>一~九段</p><h4 id="玉将（ぎょくしょう）"><a href="#玉将（ぎょくしょう）" class="headerlink" title="玉将（ぎょくしょう）"></a>玉将（ぎょくしょう）</h4><p>【玉将】</p><h4 id="王将（おうしょう）"><a href="#王将（おうしょう）" class="headerlink" title="王将（おうしょう）"></a>王将（おうしょう）</h4><p>【王将】</p><h4 id="飛車（ひしゃ）"><a href="#飛車（ひしゃ）" class="headerlink" title="飛車（ひしゃ）"></a>飛車（ひしゃ）</h4><p>【飞车】</p><h4 id="角行（かくぎょう）"><a href="#角行（かくぎょう）" class="headerlink" title="角行（かくぎょう）"></a>角行（かくぎょう）</h4><p>【角行】</p><h4 id="金将（きんしょう）"><a href="#金将（きんしょう）" class="headerlink" title="金将（きんしょう）"></a>金将（きんしょう）</h4><p>【金将】</p><h4 id="銀将（ぎんしょう）"><a href="#銀将（ぎんしょう）" class="headerlink" title="銀将（ぎんしょう）"></a>銀将（ぎんしょう）</h4><p>【银将】</p><h4 id="桂馬（けいま）"><a href="#桂馬（けいま）" class="headerlink" title="桂馬（けいま）"></a>桂馬（けいま）</h4><p>【桂马】</p><h4 id="香車（きょうしゃ）"><a href="#香車（きょうしゃ）" class="headerlink" title="香車（きょうしゃ）"></a>香車（きょうしゃ）</h4><p>【香车（chē）】</p><h4 id="歩兵（ふひょう）"><a href="#歩兵（ふひょう）" class="headerlink" title="歩兵（ふひょう）"></a>歩兵（ふひょう）</h4><p>【步兵】</p><p>各棋子一字简写均为第一个字<br>玉、王、飞、角、金、银、桂、香、步</p><h4 id="成る（なる）-成駒（なりごま）"><a href="#成る（なる）-成駒（なりごま）" class="headerlink" title="成る（なる）/成駒（なりごま）"></a>成る（なる）/成駒（なりごま）</h4><p>【成驹】<br>1.将棋中，己方某些棋子到达敌阵或在敌阵移动后，可翻转棋子进行升级，行动轨迹发生改变。<br>2.なりごま亦指升级后的棋子。</p><p>※注意：<br>1.虽然有些资料会将成る称作升级/升变，但本派为直观起见将会一直将上述二词沿用日字译作成驹。<br>2.本词专指将棋的情况下使用。因なりごま在日语中亦可指国际象棋中的升变。</p><h4 id="生駒（いこま）"><a href="#生駒（いこま）" class="headerlink" title="生駒（いこま）"></a>生駒（いこま）</h4><p>【生驹】<br>成驹的反义词，翻转棋子变为成驹前的棋子。</p><h4 id="不成（ならず）"><a href="#不成（ならず）" class="headerlink" title="不成（ならず）"></a>不成（ならず）</h4><p>【不成】<br>棋子侵入敌阵后可选择成驹，但也可以选择保持原状不翻转棋子，不变的时候称为不成。<br>步兵和香车到达底线后强制成驹，桂马到达倒数两行时强制成驹。</p><p>各棋子成驹后译法</p><h4 id="竜王（りゅうおう）"><a href="#竜王（りゅうおう）" class="headerlink" title="竜王（りゅうおう）"></a>竜王（りゅうおう）</h4><p>【龙王】</p><h4 id="竜馬（りゅうま）"><a href="#竜馬（りゅうま）" class="headerlink" title="竜馬（りゅうま）"></a>竜馬（りゅうま）</h4><p>【龙马】</p><h4 id="成銀（なりぎん）"><a href="#成銀（なりぎん）" class="headerlink" title="成銀（なりぎん）"></a>成銀（なりぎん）</h4><p>【成银】</p><h4 id="成桂（なりけい）"><a href="#成桂（なりけい）" class="headerlink" title="成桂（なりけい）"></a>成桂（なりけい）</h4><p>【成桂】</p><h4 id="成香（なりきょう）"><a href="#成香（なりきょう）" class="headerlink" title="成香（なりきょう）"></a>成香（なりきょう）</h4><p>【成香】</p><h4 id="と金（ときん）"><a href="#と金（ときん）" class="headerlink" title="と金（ときん）"></a>と金（ときん）</h4><p>【成步】</p><p>注：<br>棋谱中单字表示的成驹分别为<br>龙王——竜/龍<br>龙马——馬<br>成银——全<br>成桂——圭<br>成香——杏<br>成步——と</p><p>其中成银、成桂、成香在棋谱中也有直接用二字挤在一个格子里的表记方法<br>与单字表示方法使用频率大致相同</p>]]></content>
    
    
    <summary type="html">&lt;p&gt;以此用来致敬吴老师&lt;/p&gt;</summary>
    
    
    
    <category term="日本語" scheme="https://sknyt.xyz/categories/%E6%97%A5%E6%9C%AC%E8%AA%9E/"/>
    
    
    <category term="一点点码的东西" scheme="https://sknyt.xyz/tags/%E4%B8%80%E7%82%B9%E7%82%B9%E7%A0%81%E7%9A%84%E4%B8%9C%E8%A5%BF/"/>
    
  </entry>
  
  <entry>
    <title>MyPlanet</title>
    <link href="https://sknyt.xyz/iOS/MyPlanet/"/>
    <id>https://sknyt.xyz/iOS/MyPlanet/</id>
    <published>2021-02-17T04:00:45.000Z</published>
    <updated>2021-02-18T09:59:36.735Z</updated>
    
    <content type="html"><![CDATA[<p>记录一下第一个<del>较完整</del>的swift App</p><p>其实还是因为在家上网课太无聊。</p><p>好的我要被枪决了</p><a id="more"></a><hr><p>Github：<a href="https://github.com/SaitoYayoi/My_Planet">https://github.com/SaitoYayoi/My_Planet</a></p><p><a href="http://120.55.193.84/MyPlanet.zip">原文件</a>：</p><ul><li>MD5：24548214ff88c65757181803ada7936f</li><li>SHA-1：d704a0b51f44070cf7fa0a4ca6ebcc1f1e79a26f</li><li>SHA-256：16c90796c873f0884dfb006be82614ed56e1dd91db0962f2c0d0cf43a5113131</li></ul><hr><p>分类汇编：<a href="https://sknyt.xyz/iOS/Main/">首页</a>、<a href="https://sknyt.xyz/iOS/Mail">Mail页</a>、<a href="https://sknyt.xyz/iOS/Music">Music页</a>、<a href="https://sknyt.xyz/iOS/Weather">Weather页</a>、<a href="https://sknyt.xyz/iOS/Fate">Fate页</a></p><hr><p>特别鸣谢：<a href="https://github.com/taglee">@Taglee</a></p>]]></content>
    
    
    <summary type="html">&lt;p&gt;记录一下第一个&lt;del&gt;较完整&lt;/del&gt;的swift App&lt;/p&gt;
&lt;p&gt;其实还是因为在家上网课太无聊。&lt;/p&gt;
&lt;p&gt;好的我要被枪决了&lt;/p&gt;</summary>
    
    
    
    <category term="iOS" scheme="https://sknyt.xyz/categories/iOS/"/>
    
    
    <category term="MyPlanet" scheme="https://sknyt.xyz/tags/MyPlanet/"/>
    
  </entry>
  
  <entry>
    <title>Markdown语法</title>
    <link href="https://sknyt.xyz/%E7%BD%91%E9%A1%B5/Markdown%E8%AF%AD%E6%B3%95/"/>
    <id>https://sknyt.xyz/%E7%BD%91%E9%A1%B5/Markdown%E8%AF%AD%E6%B3%95/</id>
    <published>2021-02-15T13:50:01.000Z</published>
    <updated>2021-02-16T02:32:25.224Z</updated>
    
    <content type="html"><![CDATA[<p>码了一点点的Markdown的语法</p><a id="more"></a><h1 id="一、标题"><a href="#一、标题" class="headerlink" title="一、标题"></a>一、标题</h1><p>在想要设置为标题的文字前面加#来表示<br>一个#是一级标题，二个#是二级标题，以此类推。支持六级标题。</p><p>注：标准语法一般在#后跟个空格再写文字，貌似简书不加空格也行。</p><p>示例：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"># 这是一级标题</span><br><span class="line">## 这是二级标题</span><br><span class="line">### 这是三级标题</span><br><span class="line">#### 这是四级标题</span><br><span class="line">##### 这是五级标题</span><br><span class="line">###### 这是六级标题</span><br></pre></td></tr></table></figure><p>效果如下：</p><h1 id="这是一级标题"><a href="#这是一级标题" class="headerlink" title="这是一级标题"></a>这是一级标题</h1><h2 id="这是二级标题"><a href="#这是二级标题" class="headerlink" title="这是二级标题"></a>这是二级标题</h2><h3 id="这是三级标题"><a href="#这是三级标题" class="headerlink" title="这是三级标题"></a>这是三级标题</h3><h4 id="这是四级标题"><a href="#这是四级标题" class="headerlink" title="这是四级标题"></a>这是四级标题</h4><h5 id="这是五级标题"><a href="#这是五级标题" class="headerlink" title="这是五级标题"></a>这是五级标题</h5><h6 id="这是六级标题"><a href="#这是六级标题" class="headerlink" title="这是六级标题"></a>这是六级标题</h6><hr><h1 id="二、字体"><a href="#二、字体" class="headerlink" title="二、字体"></a>二、字体</h1><ul><li><h5 id="加粗"><a href="#加粗" class="headerlink" title="加粗"></a>加粗</h5></li></ul><p>要加粗的文字左右分别用两个*号包起来</p><ul><li><h5 id="斜体"><a href="#斜体" class="headerlink" title="斜体"></a>斜体</h5></li></ul><p>要倾斜的文字左右分别用一个*号包起来</p><ul><li><h5 id="斜体加粗"><a href="#斜体加粗" class="headerlink" title="斜体加粗"></a>斜体加粗</h5></li></ul><p>要倾斜和加粗的文字左右分别用三个*号包起来</p><ul><li><h5 id="删除线"><a href="#删除线" class="headerlink" title="删除线"></a>删除线</h5></li></ul><p>要加删除线的文字左右分别用两个~~号包起来</p><p>示例：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">**这是加粗的文字**</span><br><span class="line">*这是倾斜的文字*&#96;</span><br><span class="line">***这是斜体加粗的文字***</span><br><span class="line">~~这是加删除线的文字~~</span><br></pre></td></tr></table></figure><p>效果如下：</p><p><strong>这是加粗的文字</strong><br><em>这是倾斜的文字</em><br><strong><em>这是斜体加粗的文字\</em></strong><br><del>这是加删除线的文字</del></p><hr><h1 id="三、引用"><a href="#三、引用" class="headerlink" title="三、引用"></a>三、引用</h1><p>在引用的文字前加&gt;即可。引用也可以嵌套，如加两个&gt;&gt;三个&gt;&gt;&gt; n个…<br>貌似可以一直加下去，但没神马卵用</p><p>示例：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&gt;这是引用的内容</span><br><span class="line">&gt;&gt;这是引用的内容</span><br><span class="line">&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;这是引用的内容</span><br></pre></td></tr></table></figure><p>效果如下：</p><blockquote><p>这是引用的内容</p><blockquote><p>这是引用的内容</p><blockquote><blockquote><blockquote><blockquote><blockquote><blockquote><blockquote><blockquote><p>这是引用的内容</p></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote><h1 id="四、分割线"><a href="#四、分割线" class="headerlink" title="四、分割线"></a>四、分割线</h1><p>三个或者三个以上的 - 或者 * 都可以。</p><p>示例：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">---</span><br><span class="line">----</span><br><span class="line">***</span><br><span class="line">*****</span><br></pre></td></tr></table></figure><p>效果如下：<br>可以看到，显示效果是一样的。</p><hr><hr><hr><hr><h1 id="五、图片"><a href="#五、图片" class="headerlink" title="五、图片"></a>五、图片</h1><p>语法：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">![图片alt](图片地址 &#39;&#39;图片title&#39;&#39;)</span><br><span class="line"></span><br><span class="line">图片alt就是显示在图片下面的文字，相当于对图片内容的解释。</span><br><span class="line">图片title是图片的标题，当鼠标移到图片上时显示的内容。title可加可不加</span><br></pre></td></tr></table></figure><p>示例：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">![blockchain](https:&#x2F;&#x2F;ss0.bdstatic.com&#x2F;70cFvHSh_Q1YnxGkpoWK1HF6hhy&#x2F;it&#x2F;</span><br><span class="line">u&#x3D;702257389,1274025419&amp;fm&#x3D;27&amp;gp&#x3D;0.jpg &quot;区块链&quot;)</span><br></pre></td></tr></table></figure><p>效果如下：</p><p><a href="https://upload-images.jianshu.io/upload_images/6860761-fd2f51090a890873.jpg?imageMogr2/auto-orient/strip%7CimageView2/2/w/550/format/webp"><img src="https://upload-images.jianshu.io/upload_images/6860761-fd2f51090a890873.jpg?imageMogr2/auto-orient/strip%7CimageView2/2/w/550/format/webp" alt="img"></a></p><p><a href="https://upload-images.jianshu.io/upload_images/6860761-fd2f51090a890873.jpg?imageMogr2/auto-orient/strip%7CimageView2/2/w/550/format/webp">img</a></p><p>blockchain</p><p><strong>上传本地图片直接点击导航栏的图片标志，选择图片即可</strong></p><p>markdown格式追求的是简单、多平台统一。那么图片的存储就是一个问题，需要用图床，提供统一的外链，这样就不用在不同的平台去处理图片的问题了。才能做到书写一次，各处使用。<br>关于图床的选择我写了一篇文章，对网上存在的各种方法做了总结，需要的朋友可以看看。<a href="https://www.jianshu.com/p/ea1eb11db63f">markdown图床</a></p><h1 id="六、超链接"><a href="#六、超链接" class="headerlink" title="六、超链接"></a>六、超链接</h1><p>语法：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">[超链接名](超链接地址 &quot;超链接title&quot;)</span><br><span class="line">title可加可不加</span><br></pre></td></tr></table></figure><p>示例：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">[简书](http:&#x2F;&#x2F;jianshu.com)</span><br><span class="line">[百度](http:&#x2F;&#x2F;baidu.com)</span><br></pre></td></tr></table></figure><p>效果如下：</p><p><a href="https://www.jianshu.com/u/1f5ac0cf6a8b">简书</a><br><a href="https://links.jianshu.com/go?to=http://baidu.com">百度</a></p><p>注：Markdown本身语法不支持链接在新页面中打开，貌似简书做了处理，是可以的。别的平台可能就不行了，如果想要在新页面中打开的话可以用html语言的a标签代替。</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&lt;a href&#x3D;&quot;超链接地址&quot; target&#x3D;&quot;_blank&quot;&gt;超链接名&lt;&#x2F;a&gt;</span><br><span class="line"></span><br><span class="line">示例</span><br><span class="line">&lt;a href&#x3D;&quot;https:&#x2F;&#x2F;www.jianshu.com&#x2F;u&#x2F;1f5ac0cf6a8b&quot; target&#x3D;&quot;_blank&quot;&gt;简书&lt;&#x2F;a&gt;</span><br></pre></td></tr></table></figure><hr><h1 id="七、列表"><a href="#七、列表" class="headerlink" title="七、列表"></a>七、列表</h1><h5 id="无序列表"><a href="#无序列表" class="headerlink" title="无序列表"></a>无序列表</h5><p>语法：<br>无序列表用 - + * 任何一种都可以</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">- 列表内容</span><br><span class="line">+ 列表内容</span><br><span class="line">* 列表内容</span><br><span class="line"></span><br><span class="line">注意：- + * 跟内容之间都要有一个空格</span><br></pre></td></tr></table></figure><p>效果如下：</p><ul><li>列表内容</li><li>列表内容</li><li>列表内容</li></ul><h5 id="有序列表"><a href="#有序列表" class="headerlink" title="有序列表"></a>有序列表</h5><p>语法：<br>数字加点</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">1. 列表内容</span><br><span class="line">2. 列表内容</span><br><span class="line">3. 列表内容</span><br><span class="line"></span><br><span class="line">注意：序号跟内容之间要有空格</span><br></pre></td></tr></table></figure><p>效果如下：</p><ol><li>列表内容</li><li>列表内容</li><li>列表内容</li></ol><h5 id="列表嵌套"><a href="#列表嵌套" class="headerlink" title="列表嵌套"></a>列表嵌套</h5><p><strong>上一级和下一级之间敲三个空格即可</strong></p><ul><li>一级无序列表内容<ul><li>二级无序列表内容</li><li>二级无序列表内容</li><li>二级无序列表内容</li></ul></li><li>一级无序列表内容<ol><li>二级有序列表内容</li><li>二级有序列表内容</li><li>二级有序列表内容</li></ol></li></ul><ol><li>一级有序列表内容<ul><li>二级无序列表内容</li><li>二级无序列表内容</li><li>二级无序列表内容</li></ul></li><li>一级有序列表内容<ol><li>二级有序列表内容</li><li>二级有序列表内容</li><li>二级有序列表内容</li></ol></li></ol><hr><h1 id="八、表格"><a href="#八、表格" class="headerlink" title="八、表格"></a>八、表格</h1><p>语法：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">表头|表头|表头</span><br><span class="line">---|:--:|---:</span><br><span class="line">内容|内容|内容</span><br><span class="line">内容|内容|内容</span><br><span class="line"></span><br><span class="line">第二行分割表头和内容。</span><br><span class="line">- 有一个就行，为了对齐，多加了几个</span><br><span class="line">文字默认居左</span><br><span class="line">-两边加：表示文字居中</span><br><span class="line">-右边加：表示文字居右</span><br><span class="line">注：原生的语法两边都要用 | 包起来。此处省略</span><br></pre></td></tr></table></figure><p>示例：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">姓名|技能|排行</span><br><span class="line">--|:--:|--:</span><br><span class="line">刘备|哭|大哥</span><br><span class="line">关羽|打|二哥</span><br><span class="line">张飞|骂|三弟</span><br></pre></td></tr></table></figure><p>效果如下：</p><table><thead><tr><th align="left">姓名</th><th>技能</th><th>排行</th></tr></thead><tbody><tr><td align="left">刘备</td><td>哭</td><td>大哥</td></tr><tr><td align="left">关羽</td><td>打</td><td>二哥</td></tr><tr><td align="left">张飞</td><td>骂</td><td>三弟</td></tr></tbody></table><h1 id="九、代码"><a href="#九、代码" class="headerlink" title="九、代码"></a>九、代码</h1><p>语法：<br>单行代码：代码之间分别用一个反引号包起来</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#96;代码内容&#96;</span><br></pre></td></tr></table></figure><p>代码块：代码之间分别用三个反引号包起来，且两边的反引号单独占一行</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">(&#96;&#96;&#96;)</span><br><span class="line">  代码...</span><br><span class="line">  代码...</span><br><span class="line">  代码...</span><br><span class="line">(&#96;&#96;&#96;)</span><br></pre></td></tr></table></figure><blockquote><p>注：为了防止转译，前后三个反引号处加了小括号，实际是没有的。这里只是用来演示，实际中去掉两边小括号即可。</p></blockquote><p>示例：</p><p>单行代码</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#96;create database hero;&#96;</span><br></pre></td></tr></table></figure><p>代码块</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">(&#96;&#96;&#96;)</span><br><span class="line">    function fun()&#123;</span><br><span class="line">         echo &quot;这是一句非常牛逼的代码&quot;;</span><br><span class="line">    &#125;</span><br><span class="line">    fun();</span><br><span class="line">(&#96;&#96;&#96;)</span><br></pre></td></tr></table></figure><p>效果如下：</p><p>单行代码</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">create database hero;</span><br></pre></td></tr></table></figure><p>代码块</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">function fun()&#123;</span><br><span class="line">  echo &quot;这是一句非常牛逼的代码&quot;;</span><br><span class="line">&#125;</span><br><span class="line">fun();</span><br></pre></td></tr></table></figure><h1 id="十、本地下载"><a href="#十、本地下载" class="headerlink" title="十、本地下载"></a>十、本地下载</h1><p>语法</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[下载内容](&#x2F;download&#x2F;文件名)</span><br></pre></td></tr></table></figure><hr><p>作者：高鸿祥<br>链接：<a href="https://www.jianshu.com/p/191d1e21f7ed">https://www.jianshu.com/p/191d1e21f7ed</a><br>来源：简书<br>著作权归作者所有。商业转载请联系作者获得授权，非商业转载请注明出处。</p>]]></content>
    
    
    <summary type="html">&lt;p&gt;码了一点点的Markdown的语法&lt;/p&gt;</summary>
    
    
    
    <category term="网页" scheme="https://sknyt.xyz/categories/%E7%BD%91%E9%A1%B5/"/>
    
    
    <category term="一点点码的东西" scheme="https://sknyt.xyz/tags/%E4%B8%80%E7%82%B9%E7%82%B9%E7%A0%81%E7%9A%84%E4%B8%9C%E8%A5%BF/"/>
    
  </entry>
  
  <entry>
    <title>頭に突然込んだまま造語</title>
    <link href="https://sknyt.xyz/%E6%97%A5%E6%9C%AC%E8%AA%9E/%E9%80%A0%E8%AF%AD/"/>
    <id>https://sknyt.xyz/%E6%97%A5%E6%9C%AC%E8%AA%9E/%E9%80%A0%E8%AF%AD/</id>
    <published>2021-02-10T13:51:53.000Z</published>
    <updated>2021-02-19T02:38:56.707Z</updated>
    
    <content type="html"><![CDATA[<p> <strong>造語</strong>（ぞうご）は、新たに語（単語）を造ることや、既存の語を組み合わせて新たな意味の語を造ること、また、そうして造られた語である。新たに造られた語については、<strong>新語</strong>または<strong>新造語</strong>とも呼ばれる。</p><a id="more"></a><p>​    昔からいつもこの企画があるんけど、自分の言語を作ろうと思い、最近から真面目にやろうということを決めました。まっ始まるときから一大問題があって、それが読み方や書き方またはアルファベットを確定すること。自分が外で「フランス語を勉強しているよ、すごくわかっちゃったよねー」という、実は全然そんなことがないである。まだ、ゲルマン語系の発音や文字を選んだ、（興味あるから）。そして、IPA（って国際音標表）を調べて勉強し始めた。発音がヤッパリむずかしいね。特にたくさんの音標の発音が似てる。</p><p>て、「大舌音」と言うおとが出来ない、「小舌音」は一生懸命に勉強するあとで、成功したのに。<u><strong>サスガ俺！！！！！諦めぬ！</strong></u>それが一つだけ今回の冬休みの要望だろうね。じゃー、頑張ろ！！！</p><hr><p>2020/2/11に更新：諦めてしまいました</p>]]></content>
    
    
    <summary type="html">&lt;p&gt; &lt;strong&gt;造語&lt;/strong&gt;（ぞうご）は、新たに語（単語）を造ることや、既存の語を組み合わせて新たな意味の語を造ること、また、そうして造られた語である。新たに造られた語については、&lt;strong&gt;新語&lt;/strong&gt;または&lt;strong&gt;新造語&lt;/strong&gt;とも呼ばれる。&lt;/p&gt;</summary>
    
    
    
    <category term="日本語" scheme="https://sknyt.xyz/categories/%E6%97%A5%E6%9C%AC%E8%AA%9E/"/>
    
    
    <category term="随记" scheme="https://sknyt.xyz/tags/%E9%9A%8F%E8%AE%B0/"/>
    
  </entry>
  
  <entry>
    <title>历史考试前恐怖的回忆）</title>
    <link href="https://sknyt.xyz/Study/history/"/>
    <id>https://sknyt.xyz/Study/history/</id>
    <published>2021-01-15T07:33:43.000Z</published>
    <updated>2021-02-17T07:38:22.117Z</updated>
    
    <content type="html"><![CDATA[<h2 id="历史我还有救！"><a href="#历史我还有救！" class="headerlink" title="历史我还有救！"></a>历史我还有救！</h2><a id="more"></a><ul><li><p>新航路开辟</p><p>根本原因：地中海沿岸城市出现资本主义萌芽 西欧各国渴求金银财富</p><p>共同基础：生产力发展</p><p>时间：15-16c</p><ol><li><p>葡萄牙 迪亚士：绕过好望角</p></li><li><p>西班牙 哥伦布：美洲新大陆</p></li><li><p>葡萄牙 达伽马：第一个到达印度</p></li><li><p>西班牙 麦哲伦：环球航行</p></li></ol><p>意义：全球航路大通，联系成紧密整体</p><p>影响：人口迁移 物种交换</p><p>美洲是全球族群混合程度最高地区</p><p>世界市场开始形成</p><p>*三角贸易：葡萄牙占据澳门、西班牙占据菲律宾马尼拉</p></li><li><p>文艺复兴</p><p>时间：14-17c</p><p>内核：人文主义</p><p>根本原因：中世纪晚期资本主义生产关系的萌芽</p><p>中心与起源地：意大利</p><p>文学三杰：但丁《神曲》彼得拉克《歌集》薄伽丘《十日谈》</p></li><li><p>宗教改革</p><p>根本原因：资本主义发展需要</p><p>开始：德国 马丁路德</p></li><li><p>启蒙运动</p><p>时间：17-18c</p><p>理性和科学</p><p>中心：法国</p><p>代表人物：伏尔泰 君主立宪制；孟德斯鸠 三权分立相互制衡；卢梭 天赋人权主权在民直接民主制</p></li><li><p>资本主义革命</p><p><strong>all根本原因：资本主义经济发展</strong></p><p>英国革命：1640-1688</p><p>1688:光荣革命 1689:权利法案 1701:王位继承法</p><p>美国独立战争：1775-1783</p><p>1775:莱克星顿的枪声 1776.7.4:独立宣言</p><p>1783:英国承认美国独立</p><p>不仅是资产阶级独立还是民族独立战争</p><p>法国革命：1789-1815</p><p>1789:人权宣言 1799-1815:拿破仑时代 《法国民法典》</p></li><li><p>俄国废除农奴制改革</p><p>1861改革</p></li><li><p>美国南北战争</p><p>时间：1861-1865</p></li><li><p>日本明治维新</p><p>富国强兵 殖产兴业 文明开化</p></li><li><p>工业革命</p><p>第一次：18c60年代-19c40年代 蒸汽时代</p><p>英国 【第一个发明：珍妮纺纱机】瓦特蒸汽机</p><p>原因：多因一果</p><p>必然性：要提高生产力</p><p>第二次：19c70年代-20c初 电气时代</p><p>美国德国 理论基础：法拉第 电磁学理论</p><p>影响：导致人类文明形态从农业文明到工业文明；资本主义世界经济体系最终形成</p></li><li><p>殖民体系开始：新航路开辟</p><p>二工掀起了瓜分世界的狂潮</p><p>资本主义世界殖民体系形成</p></li><li><p>一战</p><p>原因：不公正性 不平衡性（根本原因）不稳定性（直接原因）</p><p>巴尔干半岛 欧洲的火药桶</p><p>最主要矛盾：英德争夺世界霸权</p><p>欧洲大陆最主要矛盾：法德</p><p>同盟国：德意奥匈帝国</p><p>协约国：英法俄</p><p>导火线：萨拉热窝事件1914.6.28</p><p>时间：1914.7.28-1918.11.11</p><p>西线：英法对德 决定性战场</p><p>马恩河战争：德“速决战”计划破产</p><p>凡尔登绞肉机 索姆河战役：英国第一次使用坦克</p><p>1917.11 俄国十月革命 胜利之后推出一战</p><p>美国1917加入协约国</p><p>中国以工代战</p><p>一战是非正义战争 除塞尔维亚是民族自卫战</p><p>影响：动摇了欧洲的世界优势地位</p><p>一战后的国际秩序：凡尔赛-华盛顿体系</p><p>体现了帝国主义的强权政治 第一次世界性国际性组织 “全体一致”原则</p></li></ul><hr><p>特别鸣谢：🍉、zh</p>]]></content>
    
    
    <summary type="html">&lt;h2 id=&quot;历史我还有救！&quot;&gt;&lt;a href=&quot;#历史我还有救！&quot; class=&quot;headerlink&quot; title=&quot;历史我还有救！&quot;&gt;&lt;/a&gt;历史我还有救！&lt;/h2&gt;</summary>
    
    
    
    <category term="Study" scheme="https://sknyt.xyz/categories/Study/"/>
    
    
    <category term="History" scheme="https://sknyt.xyz/tags/History/"/>
    
  </entry>
  
  <entry>
    <title>令人心里一动的美好词汇</title>
    <link href="https://sknyt.xyz/%E6%96%87%E7%B4%A0/YasashiiKotoba/"/>
    <id>https://sknyt.xyz/%E6%96%87%E7%B4%A0/YasashiiKotoba/</id>
    <published>2021-01-13T12:56:03.000Z</published>
    <updated>2021-02-20T03:11:51.933Z</updated>
    
    <content type="html"><![CDATA[<blockquote><p>永远相信美好的事情即将发生！！！！！！！！</p><p>永远相信美好的事情即将发生！！！！！！！！</p><p>永远相信美好的事情即将发生！！！！！！！！</p></blockquote><a id="more"></a><ul><li><p>Flipped : 只是听到就怦然心动了</p></li><li><p>Fairy : 美丽可爱的小精灵 小仙女 漂亮女孩</p></li><li><p>Kilig : 形容那种喜欢一个人喜欢得好像胃里正有成千上万只蝴蝶翩翩 一张嘴就要全部飞出来一样的醉醺醺 麻酥酥感</p></li><li><p>Redamancy : 你爱着某人时 某人也在爱着你 </p></li><li><p>Sobremesa : 餐后与老友畅谈的时光 </p></li><li><p>Sinsoledad : 发现幸福掌握在你自己手中</p></li><li><p>Flechazo : 一见钟情</p></li><li><p>Solitude : 平静愉悦的独处 </p></li><li><p>Sokäch : 周日的幸福感</p></li><li><p>Echo : 念念不忘 必有回响 </p></li><li><p>Tiám : 初遇某人时眼里闪烁的光芒</p></li><li><p>Serendipity : 不期而遇的美好</p></li><li><p>Palpitate : 小心翼翼却又急切的心动</p></li><li><p>Shmily : 看我是多么地爱你</p></li><li><p>Amireux : 友达以上 恋人未满</p></li><li><p>Aurora  : 极光</p></li><li><p>Milchstraße : 银河</p></li><li><p>Eternity : 永恒</p></li><li><p>Chaos ：混沌</p></li><li><p>Gänseblümchen : 雏菊</p></li><li><p>Dreamboat :理想的爱人 理想的目标</p></li><li><p>Vergissmeinnicht : 勿忘我</p></li><li><p>Frühlingserwachen : 立春 春天苏醒</p></li><li><p>Famiglistimo : 爱的人都在你的身边</p></li><li><p>Wabi-sabi : 在不完美之中寻找美好 接受人生的生死轮回和残缺之美</p></li><li><p>Miscedence : 你的存在对他人来说很重要</p></li><li><p>Ethereal : 你望那个星星般的人时的内心感受</p></li><li><p>Crush :短暂地 热恋地 但又羞涩的爱恋</p></li><li><p>Petrichor : 刚下过雨之后泥土的味道</p></li><li><p>Komorebi : 阳光穿过了树叶之间的缝隙</p></li><li><p>Serein : 身处落雨的黄昏</p></li><li><p>Arrebol : 灿烂云霞</p></li><li><p>Murmure : 那种不知名的小溪潺潺的声音 那种微风吹着树叶沙沙的声音  </p></li><li><p>l’ivresse: 酒后伴着微醺 体味那种特有的沉醉和快乐</p></li><li><p>Augenstern : 喜欢的人眼中的星星</p></li><li><p>Gezelligheid : 惬意 舒适 跟爱人在一起的温暖 老友的阔别重逢 冬天壁炉升起的烟火 </p></li><li><p>Trouvaille : 因生活中偶然发现的美好小事物而产生的满足</p></li><li><p>Hygge : 没有令人烦恼的东西 从身边温和和治愈的事物中获取快乐</p></li><li><p>Miraitowa : 永远期待着明亮未来  </p></li><li><p>Gnomeshgh : 某人愿意在第一时间与你分享有趣的事 </p></li><li><p>Ephémère : 朝生暮死的 昙花一现的 转瞬即逝的</p></li></ul><hr><p>我偏要夹带私货——</p><iframe frameborder="no" border="0" marginwidth="0" marginheight="0" width=330 height=86 src="//music.163.com/outchain/player?type=2&id=1306507575&auto=0&height=66"></iframe>]]></content>
    
    
    <summary type="html">&lt;blockquote&gt;
&lt;p&gt;永远相信美好的事情即将发生！！！！！！！！&lt;/p&gt;
&lt;p&gt;永远相信美好的事情即将发生！！！！！！！！&lt;/p&gt;
&lt;p&gt;永远相信美好的事情即将发生！！！！！！！！&lt;/p&gt;
&lt;/blockquote&gt;</summary>
    
    
    
    <category term="文素" scheme="https://sknyt.xyz/categories/%E6%96%87%E7%B4%A0/"/>
    
    
    <category term="一点点码的东西" scheme="https://sknyt.xyz/tags/%E4%B8%80%E7%82%B9%E7%82%B9%E7%A0%81%E7%9A%84%E4%B8%9C%E8%A5%BF/"/>
    
  </entry>
  
  <entry>
    <title>My Planet-MainViewController</title>
    <link href="https://sknyt.xyz/iOS/Main/"/>
    <id>https://sknyt.xyz/iOS/Main/</id>
    <published>2020-05-08T02:22:44.000Z</published>
    <updated>2021-02-17T03:59:21.181Z</updated>
    
    <content type="html"><![CDATA[<p>  首页主要实现功能：</p><ul><li>判断用户是否联网</li><li>完成通知中心Configuration</li><li>“New Message”字样闪烁</li><li>四个跳转UIButton</li><li>LocationManager初始化（为<a href="https://sknyt.xyz/iOS/Weather">Weather</a>做准备）</li><li>实现Tapic/Hapic震动反馈</li></ul><a id="more"></a><hr><h2 id="全局部分"><a href="#全局部分" class="headerlink" title="全局部分"></a>全局部分</h2><ol><li><p>引入：</p><ul><li>UIKit</li><li>SnapKit（约束）</li><li>CoreLocation（定位）</li><li>UserNotification（通知中心）</li><li>AudioToolBox.AudioServices（震动反馈）</li></ul><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> UIKit</span><br><span class="line"><span class="keyword">import</span> SnapKit</span><br><span class="line"><span class="keyword">import</span> CoreLocation</span><br><span class="line"><span class="keyword">import</span> UserNotifications</span><br><span class="line"><span class="keyword">import</span> AudioToolbox.AudioServices</span><br></pre></td></tr></table></figure></li><li><p>全局变量、常量声明：</p><ul><li>Latitude（纬度）</li><li>Longitude（经度）</li><li>LongtitudePlusLatitude（经度+纬度）</li><li>Swidth（屏幕宽度）</li><li>Sheight（屏幕长度）</li></ul><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> latitude <span class="operator">=</span> <span class="number">0.0</span></span><br><span class="line"><span class="keyword">var</span> longitude <span class="operator">=</span> <span class="number">0.0</span></span><br><span class="line"><span class="keyword">var</span> longtitudePlusLatitude:<span class="type">NSString</span>? <span class="operator">=</span> <span class="string">&quot;nil&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> <span class="type">Swidth</span> <span class="operator">=</span> <span class="type">UIScreen</span>.main.bounds.width</span><br><span class="line"><span class="keyword">let</span> <span class="type">Sheight</span> <span class="operator">=</span> <span class="type">UIScreen</span>.main.bounds.height</span><br></pre></td></tr></table></figure></li><li><p>闭包导入： 用于判断联网情况</p><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">requestUrl</span>(<span class="params">urlString</span>: <span class="type">String</span>)</span> -&gt; <span class="type">Bool</span> &#123;</span><br><span class="line">    <span class="keyword">let</span> url: <span class="type">NSURL</span> <span class="operator">=</span> <span class="type">NSURL</span>(string: urlString)<span class="operator">!</span></span><br><span class="line">    <span class="keyword">let</span> request: <span class="type">NSMutableURLRequest</span> <span class="operator">=</span> <span class="type">NSMutableURLRequest</span>(url: url <span class="keyword">as</span> <span class="type">URL</span>)</span><br><span class="line">    request.timeoutInterval <span class="operator">=</span> <span class="number">5</span></span><br><span class="line">    </span><br><span class="line">    <span class="keyword">var</span> response: <span class="type">URLResponse</span>?</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">do</span> &#123;</span><br><span class="line">        <span class="keyword">try</span> <span class="type">NSURLConnection</span>.sendSynchronousRequest(request <span class="keyword">as</span> <span class="type">URLRequest</span>, returning: <span class="operator">&amp;</span>response)</span><br><span class="line">        <span class="keyword">if</span> <span class="keyword">let</span> httpResponse <span class="operator">=</span> response <span class="keyword">as?</span> <span class="type">HTTPURLResponse</span> &#123;</span><br><span class="line">            <span class="keyword">if</span> httpResponse.statusCode <span class="operator">==</span> <span class="number">200</span> &#123;</span><br><span class="line">                <span class="keyword">return</span> <span class="literal">true</span></span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">false</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">catch</span> (<span class="keyword">let</span> error) &#123;</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&quot;error:<span class="subst">\(error)</span>&quot;</span>)</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">false</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li><p>判断软件版本（iOS10及以上）</p><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">@available</span>(<span class="keyword">iOS</span> <span class="number">10.0</span>, <span class="operator">*</span>)</span><br></pre></td></tr></table></figure><h2 id="UIViewController类"><a href="#UIViewController类" class="headerlink" title="UIViewController类"></a>UIViewController类</h2></li><li><p>变量、常量声明：</p><ul><li>locationManager（用于定位）</li><li>timer</li><li>naviImage（图片）</li><li>UIButton</li><li>bgView（背景图片）</li><li>UITapGestureRecognizer</li></ul><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> locationManager:<span class="type">CLLocationManager</span>!</span><br><span class="line">    <span class="keyword">var</span> timer:<span class="type">Timer</span>!</span><br><span class="line">    <span class="keyword">var</span> timer2:<span class="type">Timer</span>!</span><br><span class="line">    <span class="keyword">let</span> naviImage <span class="operator">=</span> <span class="type">UIImageView</span>()</span><br><span class="line">    <span class="keyword">let</span> nav1 <span class="operator">=</span> <span class="type">UIButton</span>(type: <span class="type">UIButton</span>.<span class="type">ButtonType</span>.custom)</span><br><span class="line">    <span class="keyword">let</span> nav2 <span class="operator">=</span> <span class="type">UIButton</span>(type: <span class="type">UIButton</span>.<span class="type">ButtonType</span>.custom)</span><br><span class="line">    <span class="keyword">let</span> nav3 <span class="operator">=</span> <span class="type">UIButton</span>(type: <span class="type">UIButton</span>.<span class="type">ButtonType</span>.custom)</span><br><span class="line">    <span class="keyword">let</span> nav4 <span class="operator">=</span> <span class="type">UIButton</span>(type: <span class="type">UIButton</span>.<span class="type">ButtonType</span>.custom)</span><br><span class="line">    <span class="keyword">let</span> bgView <span class="operator">=</span> <span class="type">UIImageView</span>()</span><br><span class="line">    <span class="keyword">let</span> bg <span class="operator">=</span> <span class="type">UIImage</span>(named: <span class="string">&quot;bg&quot;</span>)<span class="operator">?</span>.resizableImage(withCapInsets: <span class="type">UIEdgeInsets</span>(top: <span class="number">60</span>, left: <span class="number">15</span>, bottom: <span class="number">55</span>, right: <span class="number">15</span>), resizingMode: .stretch)</span><br><span class="line">    <span class="keyword">var</span> <span class="type">Tap</span> <span class="operator">=</span> <span class="type">UITapGestureRecognizer</span>()</span><br></pre></td></tr></table></figure></li><li><p>复写viewDidLoad闭包：</p><ul><li>生效通知</li><li>定位服务配置</li><li>遍历图片保证背景循环播放</li><li>timer配置</li><li>增加约束</li><li>增加UIbutton单击事件</li><li>设置UIButton属性</li></ul><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br></pre></td><td class="code"><pre><span class="line"> notification()</span><br><span class="line"> everyDayNotification()</span><br><span class="line"> </span><br><span class="line"> </span><br><span class="line"> locationManager <span class="operator">=</span> <span class="type">CLLocationManager</span>()</span><br><span class="line"> locationManager.delegate <span class="operator">=</span> <span class="keyword">self</span></span><br><span class="line"> locationManager.desiredAccuracy <span class="operator">=</span> kCLLocationAccuracyBest</span><br><span class="line"> locationManager.distanceFilter <span class="operator">=</span> <span class="number">10.0</span></span><br><span class="line"> locationManager.startUpdatingLocation()</span><br><span class="line"> <span class="keyword">if</span> (<span class="type">CLLocationManager</span>.authorizationStatus() <span class="operator">==</span> <span class="type">CLAuthorizationStatus</span>.notDetermined)&#123;</span><br><span class="line">     locationManager<span class="operator">?</span>.requestWhenInUseAuthorization()</span><br><span class="line"> &#125;</span><br><span class="line"> </span><br><span class="line"> <span class="keyword">var</span> background <span class="operator">=</span> [<span class="type">UIImage</span>]()</span><br><span class="line"> <span class="keyword">for</span> i <span class="keyword">in</span> <span class="number">1</span> <span class="operator">...</span> <span class="number">4</span> &#123;</span><br><span class="line">     background.append(<span class="type">UIImage</span>(named: <span class="string">&quot;bg<span class="subst">\(i)</span>&quot;</span>)<span class="operator">!</span>)</span><br><span class="line"> &#125;</span><br><span class="line"> <span class="keyword">let</span> imageView <span class="operator">=</span> <span class="type">UIImageView</span>()</span><br><span class="line"> imageView.animationImages <span class="operator">=</span> background</span><br><span class="line"> imageView.animationDuration <span class="operator">=</span> <span class="number">5</span></span><br><span class="line"> imageView.animationRepeatCount <span class="operator">=</span> <span class="number">0</span></span><br><span class="line"> imageView.startAnimating()</span><br><span class="line"> <span class="keyword">self</span>.view.addSubview(imageView)</span><br><span class="line"> imageView.snp.makeConstraints &#123;(bg) <span class="keyword">in</span></span><br><span class="line">     bg.top.bottom.left.right.equalTo(<span class="number">0</span>)</span><br><span class="line">     bg.center.equalToSuperview()</span><br><span class="line"> &#125;</span><br><span class="line"> </span><br><span class="line">timer <span class="operator">=</span> <span class="type">Timer</span>.scheduledTimer(timeInterval: <span class="number">1</span>, target: <span class="keyword">self</span>, selector: #selector(<span class="keyword">self</span>.disappear), userInfo: <span class="literal">nil</span>, repeats: <span class="literal">true</span>)</span><br><span class="line"> timer2 <span class="operator">=</span> <span class="type">Timer</span>.scheduledTimer(timeInterval: <span class="number">2</span>, target: <span class="keyword">self</span>, selector: #selector(<span class="keyword">self</span>.appear), userInfo: <span class="literal">nil</span>, repeats: <span class="literal">true</span>)</span><br><span class="line"> </span><br><span class="line"> <span class="keyword">super</span>.viewDidLoad()</span><br><span class="line"> </span><br><span class="line"> naviImage.image <span class="operator">=</span> <span class="type">UIImage</span>(named: <span class="string">&quot;navi&quot;</span>)</span><br><span class="line"> bgView.image <span class="operator">=</span> bg</span><br><span class="line"> <span class="keyword">self</span>.view.addSubview(bgView)</span><br><span class="line"> bgView.snp.makeConstraints &#123;(bg) <span class="keyword">in</span></span><br><span class="line">     bg.center.equalToSuperview()</span><br><span class="line">     bg.height.equalTo(<span class="number">100</span>)</span><br><span class="line">     bg.left.equalTo(<span class="number">0</span>).offset(<span class="number">35</span>)</span><br><span class="line">     bg.right.equalTo(<span class="number">0</span>).offset(<span class="operator">-</span><span class="number">35</span>)</span><br><span class="line"> &#125;</span><br><span class="line"> <span class="keyword">self</span>.view.addSubview(naviImage)</span><br><span class="line"> naviImage.snp.makeConstraints &#123;(make) <span class="keyword">in</span></span><br><span class="line">     make.width.equalTo(<span class="number">210</span>)</span><br><span class="line">     make.height.equalTo(<span class="number">20</span>)</span><br><span class="line">     make.center.equalToSuperview()</span><br><span class="line"> &#125;</span><br><span class="line"> <span class="type">Tap</span> <span class="operator">=</span> <span class="type">UITapGestureRecognizer</span>(target: <span class="keyword">self</span>, action: #selector(<span class="keyword">self</span>.animateAction(<span class="keyword">_</span>:)))</span><br><span class="line"> <span class="type">Tap</span>.numberOfTapsRequired <span class="operator">=</span> <span class="number">1</span></span><br><span class="line"> <span class="type">Tap</span>.numberOfTouchesRequired <span class="operator">=</span> <span class="number">1</span></span><br><span class="line"> <span class="keyword">self</span>.view.addGestureRecognizer(<span class="type">Tap</span>)</span><br><span class="line"> nav1.addTarget(<span class="keyword">self</span>, action: #selector(navi1), for: .touchUpInside)</span><br><span class="line"> nav2.addTarget(<span class="keyword">self</span>, action: #selector(navi2), for: .touchUpInside)</span><br><span class="line"> nav3.addTarget(<span class="keyword">self</span>, action: #selector(navi3), for: .touchUpInside)</span><br><span class="line"> nav3.addTarget(<span class="keyword">self</span>, action: #selector(navi3), for: .touchUpInside)</span><br><span class="line"> nav4.addTarget(<span class="keyword">self</span>, action: #selector(navi4), for: .touchUpInside)</span><br><span class="line"> </span><br><span class="line"> </span><br><span class="line"> nav1.backgroundColor <span class="operator">=</span> <span class="type">UIColor</span>.clear</span><br><span class="line"> nav1.setTitle(<span class="string">&quot;看看信箱！&quot;</span>, for: <span class="type">UIControl</span>.<span class="type">State</span>())</span><br><span class="line"> nav1.setTitleColor(<span class="type">UIColor</span>.white, for: <span class="type">UIControl</span>.<span class="type">State</span>())</span><br><span class="line"> nav1.titleLabel<span class="operator">?</span>.font <span class="operator">=</span> <span class="type">UIFont</span>(name: <span class="string">&quot;Zpix&quot;</span>, size: <span class="number">30</span>)</span><br><span class="line"> </span><br><span class="line"> nav2.backgroundColor <span class="operator">=</span> <span class="type">UIColor</span>.clear</span><br><span class="line"> nav2.setTitle(<span class="string">&quot;看看天气。&quot;</span>, for: <span class="type">UIControl</span>.<span class="type">State</span>())</span><br><span class="line"> nav2.setTitleColor(<span class="type">UIColor</span>.white, for: <span class="type">UIControl</span>.<span class="type">State</span>())</span><br><span class="line"> nav2.titleLabel<span class="operator">?</span>.font <span class="operator">=</span> <span class="type">UIFont</span>(name: <span class="string">&quot;Zpix&quot;</span>, size: <span class="number">30</span>)</span><br><span class="line"> </span><br><span class="line"> nav3.backgroundColor <span class="operator">=</span> <span class="type">UIColor</span>.clear</span><br><span class="line"> nav3.setTitle(<span class="string">&quot;听一首歌。&quot;</span>, for: <span class="type">UIControl</span>.<span class="type">State</span>())</span><br><span class="line"> nav3.setTitleColor(<span class="type">UIColor</span>.white, for: <span class="type">UIControl</span>.<span class="type">State</span>())</span><br><span class="line"> nav3.titleLabel<span class="operator">?</span>.font <span class="operator">=</span> <span class="type">UIFont</span>(name: <span class="string">&quot;Zpix&quot;</span>, size: <span class="number">30</span>)</span><br><span class="line"> </span><br><span class="line"> nav4.backgroundColor <span class="operator">=</span> <span class="type">UIColor</span>.clear</span><br><span class="line"> nav4.setTitle(<span class="string">&quot;看看运势！&quot;</span>, for: <span class="type">UIControl</span>.<span class="type">State</span>())</span><br><span class="line"> nav4.setTitleColor(<span class="type">UIColor</span>.white, for: <span class="type">UIControl</span>.<span class="type">State</span>())</span><br><span class="line"> nav4.titleLabel<span class="operator">?</span>.font <span class="operator">=</span> <span class="type">UIFont</span>(name: <span class="string">&quot;Zpix&quot;</span>, size: <span class="number">30</span>)</span><br></pre></td></tr></table></figure></li><li><p>增加UIView动画，实现壁纸循环播放</p><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">@objc</span> <span class="function"><span class="keyword">func</span> <span class="title">disappear</span>()</span> &#123;</span><br><span class="line">    <span class="type">UIView</span>.animate(withDuration: <span class="number">0.5</span>, animations: &#123;</span><br><span class="line">        <span class="keyword">self</span>.naviImage.alpha <span class="operator">=</span> <span class="number">0</span></span><br><span class="line">    &#125;)</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">@objc</span> <span class="function"><span class="keyword">func</span> <span class="title">appear</span>()</span> &#123;</span><br><span class="line">    <span class="type">UIView</span>.animate(withDuration: <span class="number">0.5</span>, animations: &#123;</span><br><span class="line">        <span class="keyword">self</span>.naviImage.alpha <span class="operator">=</span> <span class="number">1</span></span><br><span class="line">    &#125;)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li><p>通知及每日通知配置</p><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">notification</span>()</span> &#123;</span><br><span class="line">        <span class="keyword">let</span> content <span class="operator">=</span> <span class="type">UNMutableNotificationContent</span>()</span><br><span class="line">        content.sound <span class="operator">=</span> <span class="type">UNNotificationSound</span>.default</span><br><span class="line">        content.body <span class="operator">=</span> <span class="type">NSString</span>.localizedUserNotificationString(forKey: <span class="string">&quot;您回到了地球&quot;</span>, arguments: <span class="literal">nil</span>)</span><br><span class="line">               </span><br><span class="line">        <span class="keyword">let</span> infoDic <span class="operator">=</span> <span class="type">NSDictionary</span>(object: <span class="string">&quot;message.&quot;</span>, forKey: <span class="string">&quot;infoKey&quot;</span> <span class="keyword">as</span> <span class="type">NSCopying</span>)</span><br><span class="line">        content.userInfo <span class="operator">=</span> infoDic <span class="keyword">as</span> [<span class="type">NSObject</span> : <span class="type">AnyObject</span>]</span><br><span class="line">               </span><br><span class="line">        <span class="keyword">let</span> trigger <span class="operator">=</span> <span class="type">UNTimeIntervalNotificationTrigger</span>.<span class="keyword">init</span>(timeInterval: <span class="number">5.0</span>, repeats: <span class="literal">false</span>)</span><br><span class="line">        <span class="keyword">let</span> request <span class="operator">=</span> <span class="type">UNNotificationRequest</span>.<span class="keyword">init</span>(identifier: <span class="string">&quot;FiveSecond&quot;</span>, content: content, trigger: trigger)</span><br><span class="line"></span><br><span class="line">        <span class="keyword">let</span> center <span class="operator">=</span> <span class="type">UNUserNotificationCenter</span>.current()</span><br><span class="line">        center.add(request)</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">func</span> <span class="title">everyDayNotification</span>()</span> &#123;</span><br><span class="line">        <span class="keyword">let</span> content <span class="operator">=</span> <span class="type">UNMutableNotificationContent</span>()</span><br><span class="line">        content.sound <span class="operator">=</span> <span class="type">UNNotificationSound</span>.default</span><br><span class="line">        content.body <span class="operator">=</span> <span class="type">NSString</span>.localizedUserNotificationString(forKey: <span class="string">&quot;来看看今天的天气和运势吧!&quot;</span>, arguments: <span class="literal">nil</span>)</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">var</span> compoents:<span class="type">DateComponents</span> <span class="operator">=</span> <span class="type">DateComponents</span>()</span><br><span class="line">        compoents.hour <span class="operator">=</span> <span class="number">9</span></span><br><span class="line">               </span><br><span class="line">        <span class="keyword">let</span> infoDic <span class="operator">=</span> <span class="type">NSDictionary</span>(object: <span class="string">&quot;message.&quot;</span>, forKey: <span class="string">&quot;infoKey&quot;</span> <span class="keyword">as</span> <span class="type">NSCopying</span>)</span><br><span class="line">        content.userInfo <span class="operator">=</span> infoDic <span class="keyword">as</span> [<span class="type">NSObject</span> : <span class="type">AnyObject</span>]</span><br><span class="line">               </span><br><span class="line">        <span class="keyword">let</span> trigger <span class="operator">=</span> <span class="type">UNCalendarNotificationTrigger</span>.<span class="keyword">init</span>(dateMatching: compoents, repeats: <span class="literal">true</span>)</span><br><span class="line">        <span class="keyword">let</span> request <span class="operator">=</span> <span class="type">UNNotificationRequest</span>.<span class="keyword">init</span>(identifier: <span class="string">&quot;FiveSecond&quot;</span>, content: content, trigger: trigger)</span><br><span class="line"></span><br><span class="line">        <span class="keyword">let</span> center <span class="operator">=</span> <span class="type">UNUserNotificationCenter</span>.current()</span><br><span class="line">        center.add(request)</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure></li><li><p>定位服务配置</p><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">locationManager</span>(<span class="keyword">_</span> <span class="params">manager</span>: <span class="type">CLLocationManager</span>, <span class="params">didUpdateLocations</span> <span class="params">locations</span>: [<span class="type">CLLocation</span>])</span> &#123;</span><br><span class="line">    <span class="keyword">let</span> location:<span class="type">CLLocation</span> <span class="operator">=</span> locations[<span class="number">0</span>]</span><br><span class="line">    latitude <span class="operator">=</span> location.coordinate.latitude</span><br><span class="line">    longitude <span class="operator">=</span> location.coordinate.longitude</span><br><span class="line">    longtitudePlusLatitude <span class="operator">=</span> (<span class="string">&quot;<span class="subst">\(NSString(string: String(longitude)))</span>,<span class="subst">\(NSString(string: String(latitude)))</span>&quot;</span>) <span class="keyword">as</span> <span class="type">NSString</span></span><br><span class="line">    <span class="type">UserDefaults</span>().setValue(longtitudePlusLatitude, forKey: <span class="string">&quot;info&quot;</span>)</span><br><span class="line">    locationManager.stopUpdatingLocation()</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li><p>UIButton单击事件：</p><ul><li>timer失效（背景停止刷新）</li><li>增加震动反馈（AudioServicesPlaySystemSound）</li><li>将四个子UIButton添加到视图</li><li>添加UIButton约束</li></ul><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><span class="line">timer.invalidate()</span><br><span class="line">timer2.invalidate()</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> soundID <span class="operator">=</span> <span class="type">SystemSoundID</span>(<span class="number">1519</span>)</span><br><span class="line"><span class="type">AudioServicesPlaySystemSound</span>(soundID)</span><br><span class="line"></span><br><span class="line">naviImage.removeFromSuperview()</span><br><span class="line"><span class="type">Tap</span>.removeTarget(<span class="keyword">self</span>, action: #selector(<span class="keyword">self</span>.animateAction(<span class="keyword">_</span>:)))</span><br><span class="line"></span><br><span class="line">nav1.alpha <span class="operator">=</span> <span class="number">0</span></span><br><span class="line">nav2.alpha <span class="operator">=</span> <span class="number">0</span></span><br><span class="line">nav3.alpha <span class="operator">=</span> <span class="number">0</span></span><br><span class="line">nav4.alpha <span class="operator">=</span> <span class="number">0</span></span><br><span class="line"><span class="keyword">self</span>.view.addSubview(nav1)</span><br><span class="line"><span class="keyword">self</span>.view.addSubview(nav2)</span><br><span class="line"><span class="keyword">self</span>.view.addSubview(nav3)</span><br><span class="line"><span class="keyword">self</span>.view.addSubview(nav4)</span><br><span class="line"><span class="type">UIView</span>.animate(withDuration: <span class="number">0.6</span>) &#123;</span><br><span class="line">    <span class="keyword">self</span>.bgView.alpha <span class="operator">=</span> <span class="number">0</span></span><br><span class="line">    <span class="keyword">self</span>.nav1.alpha <span class="operator">=</span> <span class="number">1</span></span><br><span class="line">    <span class="keyword">self</span>.nav2.alpha <span class="operator">=</span> <span class="number">1</span></span><br><span class="line">    <span class="keyword">self</span>.nav3.alpha <span class="operator">=</span> <span class="number">1</span></span><br><span class="line">    <span class="keyword">self</span>.nav4.alpha <span class="operator">=</span> <span class="number">1</span></span><br><span class="line">&#125;</span><br><span class="line">   </span><br><span class="line">nav1.snp.makeConstraints &#123;(nav1) <span class="keyword">in</span></span><br><span class="line">    nav1.centerY.equalToSuperview().offset(<span class="operator">-</span><span class="number">80</span>)</span><br><span class="line">    nav1.centerX.equalToSuperview()</span><br><span class="line">&#125;</span><br><span class="line">nav2.snp.makeConstraints &#123;(nav2) <span class="keyword">in</span></span><br><span class="line">    nav2.centerY.equalToSuperview().offset(<span class="operator">-</span><span class="number">40</span>)</span><br><span class="line">    nav2.centerX.equalToSuperview()</span><br><span class="line">&#125;</span><br><span class="line">nav3.snp.makeConstraints &#123;(nav3) <span class="keyword">in</span></span><br><span class="line">    nav3.centerY.equalToSuperview()</span><br><span class="line">    nav3.centerX.equalToSuperview()</span><br><span class="line">&#125;</span><br><span class="line">nav4.snp.makeConstraints &#123;(nav4) <span class="keyword">in</span></span><br><span class="line">    nav4.centerY.equalToSuperview().offset(<span class="number">40</span>)</span><br><span class="line">    nav4.centerX.equalToSuperview()</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li><p>增加子UIButton单击事件：</p><ul><li>震动反馈</li><li>跳转子页面</li><li>部分页面验证是否联网，网络不通则跳转至Error-Controller</li></ul><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">@objc</span> <span class="function"><span class="keyword">func</span> <span class="title">navi1</span>(<span class="keyword">_</span> <span class="params">sender</span>: <span class="type">UIButton</span>)</span> &#123;</span><br><span class="line">        <span class="keyword">let</span> soundID <span class="operator">=</span> <span class="type">SystemSoundID</span>(<span class="number">1519</span>)</span><br><span class="line">        <span class="type">AudioServicesPlaySystemSound</span>(soundID)</span><br><span class="line">        <span class="keyword">let</span> mail <span class="operator">=</span> <span class="type">MailViewController</span>()</span><br><span class="line">        <span class="keyword">self</span>.present(mail, animated: <span class="literal">true</span>, completion: <span class="literal">nil</span>)</span><br><span class="line">    &#125;</span><br><span class="line">     <span class="keyword">@objc</span> <span class="function"><span class="keyword">func</span> <span class="title">navi2</span>(<span class="keyword">_</span> <span class="params">sender</span>: <span class="type">UIButton</span>)</span> &#123;</span><br><span class="line">        <span class="keyword">let</span> soundID <span class="operator">=</span> <span class="type">SystemSoundID</span>(<span class="number">1519</span>)</span><br><span class="line">        <span class="type">AudioServicesPlaySystemSound</span>(soundID)</span><br><span class="line">        <span class="keyword">let</span> networkStatus <span class="operator">=</span> requestUrl(urlString: <span class="string">&quot;https://www.baidu.com&quot;</span>)</span><br><span class="line">        <span class="keyword">if</span> networkStatus <span class="operator">==</span> <span class="literal">false</span> &#123;</span><br><span class="line">            <span class="keyword">let</span> fal <span class="operator">=</span> <span class="type">NetworkErrorWeatherViewController</span>()</span><br><span class="line">            <span class="keyword">self</span>.present(fal, animated: <span class="literal">true</span>, completion: <span class="literal">nil</span>)</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span> &#123;</span><br><span class="line">            <span class="keyword">let</span> weather <span class="operator">=</span> <span class="type">WeatherViewController</span>()</span><br><span class="line">            <span class="keyword">self</span>.present(weather, animated: <span class="literal">true</span>, completion: <span class="literal">nil</span>)</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">     <span class="keyword">@objc</span> <span class="function"><span class="keyword">func</span> <span class="title">navi3</span>(<span class="keyword">_</span> <span class="params">sender</span>: <span class="type">UIButton</span>)</span> &#123;</span><br><span class="line">        <span class="keyword">let</span> soundID <span class="operator">=</span> <span class="type">SystemSoundID</span>(<span class="number">1519</span>)</span><br><span class="line">        <span class="type">AudioServicesPlaySystemSound</span>(soundID)</span><br><span class="line">        <span class="keyword">let</span> music <span class="operator">=</span> <span class="type">MusicViewController</span>()</span><br><span class="line">        <span class="keyword">self</span>.present(music, animated: <span class="literal">true</span>, completion: <span class="literal">nil</span>)</span><br><span class="line">    &#125;</span><br><span class="line">     <span class="keyword">@objc</span> <span class="function"><span class="keyword">func</span> <span class="title">navi4</span>(<span class="keyword">_</span> <span class="params">sender</span>: <span class="type">UIButton</span>)</span> &#123;</span><br><span class="line">        <span class="keyword">let</span> soundID <span class="operator">=</span> <span class="type">SystemSoundID</span>(<span class="number">1519</span>)</span><br><span class="line">        <span class="type">AudioServicesPlaySystemSound</span>(soundID)</span><br><span class="line">        <span class="keyword">let</span> networkStatus <span class="operator">=</span> requestUrl(urlString: <span class="string">&quot;https://www.baidu.com&quot;</span>)</span><br><span class="line">        <span class="keyword">if</span> networkStatus <span class="operator">==</span> <span class="literal">false</span> &#123;</span><br><span class="line">            <span class="keyword">let</span> fal <span class="operator">=</span> <span class="type">NetworkErrorFateViewController</span>()</span><br><span class="line">            <span class="keyword">self</span>.present(fal, animated: <span class="literal">true</span>, completion: <span class="literal">nil</span>)</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="keyword">let</span> fate <span class="operator">=</span> <span class="type">FateViewController</span>()</span><br><span class="line">        <span class="keyword">self</span>.present(fate, animated: <span class="literal">true</span>, completion: <span class="literal">nil</span>)</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure><p><a href="/download/MainViewController.swift">原文件</a></p></li></ol>]]></content>
    
    
    <summary type="html">&lt;p&gt;  首页主要实现功能：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;判断用户是否联网&lt;/li&gt;
&lt;li&gt;完成通知中心Configuration&lt;/li&gt;
&lt;li&gt;“New Message”字样闪烁&lt;/li&gt;
&lt;li&gt;四个跳转UIButton&lt;/li&gt;
&lt;li&gt;LocationManager初始化（为&lt;a href=&quot;https://sknyt.xyz/iOS/Weather&quot;&gt;Weather&lt;/a&gt;做准备）&lt;/li&gt;
&lt;li&gt;实现Tapic/Hapic震动反馈&lt;/li&gt;
&lt;/ul&gt;</summary>
    
    
    
    <category term="iOS" scheme="https://sknyt.xyz/categories/iOS/"/>
    
    
    <category term="MyPlanet" scheme="https://sknyt.xyz/tags/MyPlanet/"/>
    
  </entry>
  
  <entry>
    <title>摸鱼产物</title>
    <link href="https://sknyt.xyz/iOS/WhoNoCome/"/>
    <id>https://sknyt.xyz/iOS/WhoNoCome/</id>
    <published>2020-04-25T07:58:16.000Z</published>
    <updated>2021-02-17T08:23:25.877Z</updated>
    
    <content type="html"><![CDATA[<p>很久很久以前，有一位老师，因为签到很烦，所以她……</p><p>好编不下去了</p><p>反正就是一点点的摸鱼产物还送给jsq了（可恶</p><p>也是一年的Developer Program里唯一一个可以看的成品（我！没！有！烂！尾！）</p><a id="more"></a><hr><p>大体思路：创建以学号+姓名构成的字典→获取出勤截图→OCR提取文字→将字符串与字典遍历，取出不包含的结果序号→通过字典查找姓名→输出</p><hr><p>OCR Api：用了很多个最后觉得还是<a href="https://ai.baidu.com/">百度API</a>最好用（指Accurate）</p><hr><p>问题：</p><ul><li>OCR识别精度低</li><li>OCR识别时间不好掌握</li><li>图片需要裁剪以除去不需要部分</li><li>名单能否自定义</li></ul><hr><p>解决方案：</p><ul><li>没办法</li><li>增加AlertController确保字符串不为空后输出</li><li>使用开源包处理图片至合适大小</li><li>可以但没必要</li></ul><hr><p>图片处理方案：<a href="https://github.com/Mark-Ma-1988/PhotoSolution">PhotoSolution</a></p><p>同时感谢作者耐心解答<u>（第一次遇到会回复的作者还加了微信 泪目</u></p><p>直接手动导入了用的 swift和oc混编真的好难（bushi</p><p>我一定要学会oc！！！！！</p><p><a href="/download/PhotoSolution.zip">PhotoSolution</a></p><hr><p><img src="/pics/whonocome.png" alt="吉祥物"></p><p>特别鸣谢：xtx女士</p><hr><h1 id="以下为正文"><a href="#以下为正文" class="headerlink" title="以下为正文"></a><center>以下为正文</center></h1><hr><h2 id="全局部分"><a href="#全局部分" class="headerlink" title="全局部分"></a>全局部分</h2><p>引入:</p><ul><li>UIKit</li><li>SwiftyJSON（比较喜欢的JSON解决方案）</li><li>SnapKit（约束）</li><li>AudioToolBox.AudioServices</li></ul><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> UIKit</span><br><span class="line"><span class="keyword">import</span> SwiftyJSON</span><br><span class="line"><span class="keyword">import</span> SnapKit</span><br><span class="line"><span class="keyword">import</span> AudioToolbox.AudioServices</span><br><span class="line"><span class="keyword">import</span> MessageUI</span><br></pre></td></tr></table></figure><p>拓展String类：（用于图片编码）</p><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">extension</span> <span class="title">String</span> </span>&#123;</span><br><span class="line">     </span><br><span class="line">    <span class="comment">//将原始的url编码为合法的url</span></span><br><span class="line">    <span class="function"><span class="keyword">func</span> <span class="title">urlEncoded</span>()</span> -&gt; <span class="type">String</span> &#123;</span><br><span class="line">        <span class="keyword">let</span> encodeUrlString <span class="operator">=</span> <span class="keyword">self</span>.addingPercentEncoding(withAllowedCharacters:</span><br><span class="line">            .urlQueryAllowed)</span><br><span class="line">        <span class="keyword">return</span> encodeUrlString <span class="operator">??</span> <span class="string">&quot;&quot;</span></span><br><span class="line">    &#125;</span><br><span class="line">     </span><br><span class="line">    <span class="comment">//将编码后的url转换回原始的url</span></span><br><span class="line">    <span class="function"><span class="keyword">func</span> <span class="title">urlDecoded</span>()</span> -&gt; <span class="type">String</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">self</span>.removingPercentEncoding <span class="operator">??</span> <span class="string">&quot;&quot;</span></span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">var</span> md5:<span class="type">String</span> &#123;</span><br><span class="line">            <span class="keyword">let</span> utf8 <span class="operator">=</span> cString(using: .utf8)</span><br><span class="line">            <span class="keyword">var</span> digest <span class="operator">=</span> [<span class="type">UInt8</span>](repeating: <span class="number">0</span>, count: <span class="type">Int</span>(<span class="type">CC_MD5_DIGEST_LENGTH</span>))</span><br><span class="line">            <span class="type">CC_MD5</span>(utf8, <span class="type">CC_LONG</span>(utf8<span class="operator">!</span>.count <span class="operator">-</span> <span class="number">1</span>), <span class="operator">&amp;</span>digest)</span><br><span class="line">            <span class="keyword">return</span> digest.reduce(<span class="string">&quot;&quot;</span>) &#123; <span class="variable">$0</span> <span class="operator">+</span> <span class="type">String</span>(format:<span class="string">&quot;%02X&quot;</span>, <span class="variable">$1</span>) &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">static</span> <span class="keyword">let</span> random_str_characters <span class="operator">=</span> <span class="string">&quot;0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ&quot;</span></span><br><span class="line">        <span class="keyword">static</span> <span class="function"><span class="keyword">func</span> <span class="title">randomStr</span>(<span class="params">len</span> : <span class="type">Int</span>)</span> -&gt; <span class="type">String</span>&#123;</span><br><span class="line">            <span class="keyword">var</span> ranStr <span class="operator">=</span> <span class="string">&quot;&quot;</span></span><br><span class="line">            <span class="keyword">for</span> <span class="keyword">_</span> <span class="keyword">in</span> <span class="number">0</span><span class="operator">..&lt;</span>len &#123;</span><br><span class="line">                <span class="keyword">let</span> index <span class="operator">=</span> <span class="type">Int</span>(arc4random_uniform(<span class="type">UInt32</span>(random_str_characters.count)))</span><br><span class="line">                ranStr.append(random_str_characters[random_str_characters.index(random_str_characters.startIndex, offsetBy: index)])</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">return</span> ranStr</span><br><span class="line">        &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">extension</span> <span class="title">UIImage</span> </span>&#123;</span><br><span class="line">    <span class="comment">// 截取部分图片</span></span><br><span class="line">    <span class="function"><span class="keyword">func</span> <span class="title">imageAtRect</span>(<span class="params">rect</span>: <span class="type">CGRect</span>)</span> -&gt; <span class="type">UIImage</span>&#123;</span><br><span class="line">            <span class="keyword">var</span> rect <span class="operator">=</span> rect</span><br><span class="line">            rect.origin.x <span class="operator">*=</span> <span class="keyword">self</span>.scale</span><br><span class="line">            rect.origin.y <span class="operator">*=</span> <span class="keyword">self</span>.scale</span><br><span class="line">            rect.size.width <span class="operator">*=</span> <span class="keyword">self</span>.scale</span><br><span class="line">            rect.size.height <span class="operator">*=</span> <span class="keyword">self</span>.scale</span><br><span class="line">            <span class="keyword">let</span> imageRef <span class="operator">=</span> <span class="keyword">self</span>.cgImage<span class="operator">!</span>.cropping(to: rect)</span><br><span class="line">            <span class="keyword">let</span> image <span class="operator">=</span> <span class="type">UIImage</span>(cgImage: imageRef<span class="operator">!</span>, scale: <span class="keyword">self</span>.scale, orientation: <span class="keyword">self</span>.imageOrientation)</span><br><span class="line">            <span class="keyword">return</span> image</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><hr><h2 id="ViewController类"><a href="#ViewController类" class="headerlink" title="ViewController类"></a>ViewController类</h2><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">ViewController</span>: <span class="title">UIViewController</span>, <span class="title">UIImagePickerControllerDelegate</span> &amp; <span class="title">UINavigationControllerDelegate</span>, <span class="title">PhotoSolutionDelegate</span>, <span class="title">MFMailComposeViewControllerDelegate</span></span></span><br></pre></td></tr></table></figure><ol><li><p>变量、常量声明：</p><ul><li>记录学号+姓名词典</li><li>数组（初始值为0），若出席则改为1</li><li>出席名单（初始值为nil）</li><li>timer</li><li>运行次数</li><li>CGSize</li><li>UIButton</li><li>UITextView（输出）</li></ul><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> list:<span class="type">Dictionary</span>&lt;<span class="type">Int</span>,<span class="type">String</span>&gt; <span class="operator">=</span> [<span class="number">1</span>:<span class="string">&quot;**&quot;</span>,<span class="number">2</span>:<span class="string">&quot;**&quot;</span>,<span class="number">3</span>:<span class="string">&quot;**&quot;</span>,<span class="number">4</span>:<span class="string">&quot;**&quot;</span>,<span class="number">5</span>:<span class="string">&quot;**&quot;</span>,<span class="number">6</span>:<span class="string">&quot;**&quot;</span>,<span class="number">7</span>:<span class="string">&quot;**&quot;</span>,<span class="number">8</span>:<span class="string">&quot;**&quot;</span>,<span class="number">9</span>:<span class="string">&quot;**&quot;</span>,<span class="number">10</span>:<span class="string">&quot;**&quot;</span>,<span class="number">11</span>:<span class="string">&quot;**&quot;</span>,<span class="number">12</span>:<span class="string">&quot;**&quot;</span>,<span class="number">13</span>:<span class="string">&quot;**&quot;</span>,<span class="number">14</span>:<span class="string">&quot;**&quot;</span>,<span class="number">15</span>:<span class="string">&quot;**&quot;</span>,<span class="number">16</span>:<span class="string">&quot;**&quot;</span>,<span class="number">17</span>:<span class="string">&quot;**&quot;</span>,<span class="number">18</span>:<span class="string">&quot;**&quot;</span>,<span class="number">19</span>:<span class="string">&quot;**&quot;</span>,<span class="number">20</span>:<span class="string">&quot;**&quot;</span>,<span class="number">21</span>:<span class="string">&quot;**&quot;</span>,<span class="number">22</span>:<span class="string">&quot;**&quot;</span>,<span class="number">23</span>:<span class="string">&quot;**&quot;</span>,<span class="number">24</span>:<span class="string">&quot;**&quot;</span>]</span><br><span class="line"><span class="keyword">var</span> res <span class="operator">=</span> [<span class="type">Int</span>](<span class="built_in">repeatElement</span>(<span class="number">0</span>, count: <span class="number">24</span>))</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> resP <span class="operator">=</span> <span class="string">&quot;&quot;</span></span><br><span class="line"><span class="keyword">var</span> imageDic:<span class="type">Dictionary</span>&lt;<span class="type">Int</span>,<span class="type">String</span>&gt; <span class="operator">=</span> [<span class="number">1</span>:<span class="string">&quot;nil&quot;</span>]</span><br><span class="line"><span class="keyword">var</span> times <span class="operator">=</span> <span class="number">1</span></span><br><span class="line"><span class="keyword">var</span> timer:<span class="type">Timer</span>!</span><br><span class="line"><span class="keyword">var</span> runTimes <span class="operator">=</span> <span class="number">1</span></span><br><span class="line"><span class="keyword">var</span> a <span class="operator">=</span> <span class="number">1</span></span><br><span class="line"><span class="keyword">var</span> frame:<span class="type">CGSize</span>?</span><br><span class="line"></span><br><span class="line"><span class="keyword">@IBOutlet</span> <span class="keyword">weak</span> <span class="keyword">var</span> btn: <span class="type">UIButton</span>!</span><br><span class="line"><span class="comment">//@IBOutlet weak var nvg: UINavigationItem!</span></span><br><span class="line"><span class="keyword">@IBOutlet</span> <span class="keyword">weak</span> <span class="keyword">var</span> text: <span class="type">UITextView</span>!</span><br><span class="line"><span class="comment">//@IBOutlet weak var seg: UISegmentedControl!</span></span><br></pre></td></tr></table></figure></li><li><p>裁剪图片闭包</p><p>配置URL会话</p><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span> image <span class="keyword">in</span> images &#123;</span><br><span class="line">            <span class="keyword">var</span> data:<span class="type">Data</span></span><br><span class="line">            frame <span class="operator">=</span> image.size</span><br><span class="line">            <span class="built_in">print</span>(frame<span class="operator">!</span>.width)</span><br><span class="line">            <span class="keyword">if</span> frame<span class="operator">!</span>.width <span class="operator">&gt;</span> <span class="number">850</span> &#123;</span><br><span class="line">                <span class="keyword">let</span> reImage <span class="operator">=</span> image.imageAtRect(rect: <span class="type">CGRect</span>(x: <span class="number">130</span>, y: <span class="number">200</span>, width: <span class="number">285</span>, height: <span class="number">1800</span>))</span><br><span class="line">                data <span class="operator">=</span> reImage.pngData()<span class="operator">!</span></span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">else</span> &#123;</span><br><span class="line">                data <span class="operator">=</span> image.pngData()<span class="operator">!</span></span><br><span class="line">                </span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">let</span> base64 <span class="operator">=</span> data.base64EncodedString(options: .endLineWithLineFeed)</span><br><span class="line">            <span class="keyword">let</span> imageString <span class="operator">=</span> base64.addingPercentEncoding(withAllowedCharacters: .alphanumerics)</span><br><span class="line">            imageDic.updateValue(imageString<span class="operator">!</span>, forKey: times)</span><br><span class="line">            times <span class="operator">+=</span> <span class="number">1</span></span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">        timer <span class="operator">=</span> <span class="type">Timer</span>.scheduledTimer(timeInterval: <span class="number">1</span>, target: <span class="keyword">self</span>, selector: #selector(<span class="keyword">self</span>.http), userInfo: <span class="literal">nil</span>, repeats: <span class="literal">true</span>)</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">let</span> alertController <span class="operator">=</span> <span class="type">UIAlertController</span>(title: <span class="string">&quot;识别中……&quot;</span>, message: <span class="literal">nil</span>, preferredStyle: .alert)</span><br><span class="line">        <span class="keyword">var</span> ti <span class="operator">=</span> <span class="number">6.0</span></span><br><span class="line">        <span class="keyword">if</span> times <span class="operator">&gt;=</span> <span class="number">5</span> &#123;</span><br><span class="line">            ti <span class="operator">=</span> <span class="type">Double</span>(times) <span class="operator">*</span> <span class="number">1.2</span></span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">self</span>.present(alertController, animated: <span class="literal">true</span>, completion: <span class="literal">nil</span>)</span><br><span class="line">        <span class="type">DispatchQueue</span>.main.asyncAfter(deadline: <span class="type">DispatchTime</span>.now() <span class="operator">+</span> ti ) &#123;</span><br><span class="line">            <span class="keyword">self</span>.dismiss(animated: <span class="literal">true</span>, completion: <span class="literal">nil</span>)</span><br><span class="line">            <span class="keyword">if</span> <span class="keyword">self</span>.a <span class="operator">==</span> <span class="keyword">self</span>.runTimes &#123;</span><br><span class="line">                <span class="keyword">self</span>.row()</span><br><span class="line">                <span class="built_in">print</span>(<span class="keyword">self</span>.result)</span><br><span class="line">                <span class="keyword">self</span>.text.textAlignment <span class="operator">=</span> .left</span><br><span class="line">                <span class="keyword">self</span>.text.text <span class="operator">=</span> <span class="string">&quot;原始数据:<span class="subst">\n</span>&quot;</span> <span class="operator">+</span> <span class="type">String</span>(<span class="type">Double</span>(<span class="keyword">self</span>.frame<span class="operator">!</span>.width)) <span class="operator">+</span> <span class="string">&quot;runtimes:<span class="subst">\(<span class="keyword">self</span>.runTimes)</span>&quot;</span> <span class="operator">+</span> <span class="string">&quot;returntimes:<span class="subst">\(<span class="keyword">self</span>.a)</span>&quot;</span> <span class="operator">+</span> <span class="keyword">self</span>.result</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">else</span> &#123;</span><br><span class="line">                <span class="keyword">let</span> alertController <span class="operator">=</span> <span class="type">UIAlertController</span>(title: <span class="string">&quot;出现了点问题<span class="subst">\n</span>好像丢包了<span class="subst">\n</span>检查一下网络吧&quot;</span>, message: <span class="literal">nil</span>, preferredStyle: .alert)</span><br><span class="line">                <span class="keyword">self</span>.present(alertController, animated: <span class="literal">true</span>, completion: <span class="literal">nil</span>)</span><br><span class="line">                <span class="type">DispatchQueue</span>.main.asyncAfter(deadline: <span class="type">DispatchTime</span>.now() <span class="operator">+</span> <span class="number">3</span> ) &#123;</span><br><span class="line">                    exit(<span class="number">0</span>)</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br></pre></td></tr></table></figure></li><li><p>确保每张图片遍历</p><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">@objc</span> <span class="function"><span class="keyword">func</span> <span class="title">http</span>(<span class="keyword">_</span> <span class="params">sender</span>: <span class="type">Timer</span>)</span> &#123;</span><br><span class="line">    <span class="keyword">if</span> runTimes <span class="operator">&lt;</span> times &#123;</span><br><span class="line">        request(imageString: imageDic[runTimes]<span class="operator">!</span>)</span><br><span class="line">        runTimes <span class="operator">+=</span> <span class="number">1</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">else</span> &#123;</span><br><span class="line">        timer.invalidate()</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li><p>复写viewDidLoad</p><ul><li>设置photoSolution代理</li><li>设置约束</li></ul><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">photoSolution.delegate <span class="operator">=</span> <span class="keyword">self</span></span><br><span class="line">photoSolutionCustom()</span><br><span class="line"></span><br><span class="line">btn.snp.makeConstraints &#123;(btn) <span class="keyword">in</span></span><br><span class="line">    btn.center.equalToSuperview()</span><br><span class="line">    btn.width.equalToSuperview().dividedBy(<span class="number">2</span>)</span><br><span class="line">    btn.height.equalToSuperview().dividedBy(<span class="number">5</span>)</span><br><span class="line">&#125;</span><br><span class="line">        text.snp.makeConstraints &#123;(text) <span class="keyword">in</span></span><br><span class="line">    text.left.equalTo(<span class="keyword">self</span>.view.safeAreaLayoutGuide.snp.left)</span><br><span class="line">    text.right.equalTo(<span class="keyword">self</span>.view.safeAreaLayoutGuide.snp.right)</span><br><span class="line">    text.top.equalTo(btn.snp_bottomMargin)</span><br><span class="line">    text.bottom.equalTo(<span class="keyword">self</span>.view.safeAreaLayoutGuide.snp.bottom)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li><p>发起URL对话</p><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> httpUrl <span class="operator">=</span> <span class="string">&quot;https://aip.baidubce.com/rest/2.0/ocr/v1/general_basic?access_token=24.e131f610522faa1bed15ae7de5478559.2592000.1595078568.282335-19580757&quot;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> request <span class="operator">=</span> <span class="type">URLRequest</span>(url: <span class="type">URL</span>(string: httpUrl)<span class="operator">!</span>)</span><br><span class="line">request.timeoutInterval <span class="operator">=</span> <span class="number">2</span></span><br><span class="line">request.httpMethod <span class="operator">=</span> <span class="string">&quot;POST&quot;</span></span><br><span class="line"></span><br><span class="line">request.addValue(<span class="string">&quot;application/x-www-form-urlencoded&quot;</span>, forHTTPHeaderField: <span class="string">&quot;Content-Type&quot;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">//let httpBody = signStr + &quot;sign=&quot; + sign</span></span><br><span class="line">request.httpBody <span class="operator">=</span> (<span class="string">&quot;image=&quot;</span><span class="operator">+</span>imageString).data(using: .utf8)</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> session <span class="operator">=</span> <span class="type">URLSession</span>.shared</span><br><span class="line"><span class="keyword">let</span> dataTask <span class="operator">=</span> session.dataTask(with: request, completionHandler: &#123;(data, reponse, error) -&gt; <span class="type">Void</span> <span class="keyword">in</span></span><br><span class="line">    <span class="keyword">if</span> error <span class="operator">!=</span> <span class="literal">nil</span> &#123;</span><br><span class="line">        <span class="built_in">print</span>(error.debugDescription)</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="keyword">let</span> json <span class="operator">=</span> <span class="keyword">try</span><span class="operator">!</span><span class="type">JSON</span>(data: data<span class="operator">!</span>)</span><br><span class="line">        <span class="keyword">let</span> resArr <span class="operator">=</span> json[<span class="string">&quot;words_result&quot;</span>].arrayValue</span><br><span class="line">        <span class="keyword">for</span> items <span class="keyword">in</span> resArr &#123;</span><br><span class="line">            <span class="keyword">let</span> resDic <span class="operator">=</span> items.dictionaryValue</span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">_</span>, values) <span class="keyword">in</span> resDic &#123;</span><br><span class="line">                <span class="keyword">self</span>.result <span class="operator">+=</span> values.stringValue</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">self</span>.a <span class="operator">+=</span> <span class="number">1</span></span><br><span class="line">        <span class="built_in">print</span>(<span class="keyword">self</span>.a)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;) <span class="keyword">as</span> <span class="type">URLSessionTask</span></span><br><span class="line"></span><br><span class="line">dataTask.resume()</span><br></pre></td></tr></table></figure></li><li><p>遍历并得出结果</p><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span> (keys ,values) <span class="keyword">in</span> list &#123;</span><br><span class="line">    <span class="keyword">if</span> <span class="keyword">self</span>.result.contains(values) &#123;</span><br><span class="line">        res[keys<span class="operator">-</span><span class="number">1</span>] <span class="operator">=</span> <span class="number">1</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">for</span> (index, items) <span class="keyword">in</span> res.enumerated() &#123;</span><br><span class="line">    <span class="keyword">if</span> items <span class="operator">==</span> <span class="number">0</span> &#123;</span><br><span class="line">        resP <span class="operator">=</span> resP <span class="operator">+</span> list[index<span class="operator">+</span><span class="number">1</span>]<span class="operator">!</span> <span class="operator">+</span> <span class="string">&quot;<span class="subst">\n</span>&quot;</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">print</span>(resP)</span><br><span class="line"><span class="keyword">if</span> resP <span class="operator">==</span> <span class="string">&quot;&quot;</span> &#123;</span><br><span class="line">    resP <span class="operator">=</span> <span class="string">&quot;全齐啦！！&quot;</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">let</span> alertController <span class="operator">=</span> <span class="type">UIAlertController</span>(title: <span class="string">&quot;<span class="subst">\(resP)</span>&quot;</span>, message: <span class="literal">nil</span>, preferredStyle: .alert)</span><br><span class="line"><span class="keyword">let</span> action <span class="operator">=</span> <span class="type">UIAlertAction</span>(title: <span class="string">&quot;知道了&quot;</span>, style: .default, handler: &#123; action <span class="keyword">in</span></span><br><span class="line">    <span class="keyword">self</span>.dismiss(animated: <span class="literal">true</span>, completion: <span class="literal">nil</span>)</span><br><span class="line">&#125;)</span><br><span class="line">alertController.addAction(action)</span><br><span class="line"><span class="keyword">self</span>.present(alertController, animated: <span class="literal">true</span>, completion: <span class="literal">nil</span>)</span><br></pre></td></tr></table></figure></li></ol>]]></content>
    
    
    <summary type="html">&lt;p&gt;很久很久以前，有一位老师，因为签到很烦，所以她……&lt;/p&gt;
&lt;p&gt;好编不下去了&lt;/p&gt;
&lt;p&gt;反正就是一点点的摸鱼产物还送给jsq了（可恶&lt;/p&gt;
&lt;p&gt;也是一年的Developer Program里唯一一个可以看的成品（我！没！有！烂！尾！）&lt;/p&gt;</summary>
    
    
    
    <category term="iOS" scheme="https://sknyt.xyz/categories/iOS/"/>
    
    
    <category term="WhoNoCome" scheme="https://sknyt.xyz/tags/WhoNoCome/"/>
    
  </entry>
  
  <entry>
    <title>My Planet-FateViewController</title>
    <link href="https://sknyt.xyz/iOS/Fate/"/>
    <id>https://sknyt.xyz/iOS/Fate/</id>
    <published>2020-04-15T03:48:46.000Z</published>
    <updated>2021-02-17T03:59:08.318Z</updated>
    
    <content type="html"><![CDATA[<p>Fate页主要实现功能：</p><ul><li>用户输入星座</li><li>返回当日运势</li><li>打字机输出</li><li>返回首页</li></ul><a id="more"></a><hr><p>API源：<a href="https://www.juhe.cn/docs/api/id/58">聚合API</a></p><hr><h2 id="全局部分"><a href="#全局部分" class="headerlink" title="全局部分"></a>全局部分</h2><ol><li><p>引入:</p><ul><li>UIKit</li><li>SwiftyJSON</li></ul><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> UIKit</span><br><span class="line"><span class="keyword">import</span> SwiftyJSON</span><br></pre></td></tr></table></figure></li><li><p>全局变量、常量声明：</p><ul><li>timer</li><li>UILabel</li><li>UITextField（监测用户输入）</li><li>初始字符串str</li><li>遍历次数</li><li>JSON字典</li></ul><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> timer:<span class="type">Timer</span>!</span><br><span class="line"><span class="keyword">var</span> timer2:<span class="type">Timer</span>!</span><br><span class="line"><span class="keyword">let</span> preTextLabel <span class="operator">=</span> <span class="type">UILabel</span>()</span><br><span class="line"><span class="keyword">let</span> <span class="type">TextField</span> <span class="operator">=</span> <span class="type">UITextField</span>()</span><br><span class="line"><span class="keyword">let</span> consLabel <span class="operator">=</span> <span class="type">UILabel</span>()</span><br><span class="line"><span class="keyword">let</span> str <span class="operator">=</span> <span class="string">&quot;你的星座是:&quot;</span></span><br><span class="line"><span class="keyword">var</span> i <span class="operator">=</span> <span class="number">0</span></span><br><span class="line"><span class="keyword">var</span> times <span class="operator">=</span> <span class="number">0</span></span><br><span class="line"><span class="keyword">var</span> cons <span class="operator">=</span> <span class="string">&quot;nil&quot;</span></span><br><span class="line"><span class="keyword">var</span> info:<span class="type">Dictionary</span>&lt;<span class="type">String</span>,<span class="type">JSON</span>&gt; <span class="operator">=</span> [<span class="string">&quot;name&quot;</span>:<span class="type">JSON</span>(<span class="string">&quot;nil&quot;</span>), <span class="string">&quot;datetime&quot;</span>:<span class="type">JSON</span>(<span class="string">&quot;nil&quot;</span>), <span class="string">&quot;all&quot;</span>:<span class="type">JSON</span>(<span class="string">&quot;nil&quot;</span>), <span class="string">&quot;color&quot;</span>:<span class="type">JSON</span>(<span class="string">&quot;nil&quot;</span>), <span class="string">&quot;health&quot;</span>:<span class="type">JSON</span>(<span class="string">&quot;nil&quot;</span>), <span class="string">&quot;love&quot;</span>:<span class="type">JSON</span>(<span class="string">&quot;nil&quot;</span>), <span class="string">&quot;money&quot;</span>:<span class="type">JSON</span>(<span class="string">&quot;nil&quot;</span>), <span class="string">&quot;number&quot;</span>:<span class="type">JSON</span>(<span class="string">&quot;nil&quot;</span>), <span class="string">&quot;QFriend&quot;</span>:<span class="type">JSON</span>(<span class="string">&quot;nil&quot;</span>), <span class="string">&quot;summary&quot;</span>:<span class="type">JSON</span>(<span class="string">&quot;nil&quot;</span>), <span class="string">&quot;work&quot;</span>:<span class="type">JSON</span>(<span class="string">&quot;nil&quot;</span>)]</span><br></pre></td></tr></table></figure><h2 id="UIViewController类"><a href="#UIViewController类" class="headerlink" title="UIViewController类"></a>UIViewController类</h2></li><li><p>返回首页</p><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">self</span>.dismiss(animated: <span class="literal">true</span>, completion: <span class="literal">nil</span>)</span><br></pre></td></tr></table></figure></li><li><p>timer配置（打字机）</p><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line">    preTextLabel.backgroundColor <span class="operator">=</span> <span class="type">UIColor</span>.clear</span><br><span class="line">    <span class="keyword">self</span>.view.addSubview(preTextLabel)</span><br><span class="line">    preTextLabel.textColor <span class="operator">=</span> <span class="type">UIColor</span>.white</span><br><span class="line">    preTextLabel.font <span class="operator">=</span> <span class="type">UIFont</span>(name: <span class="string">&quot;Zpix&quot;</span>, size: <span class="number">20</span>)</span><br><span class="line">    preTextLabel.lineBreakMode <span class="operator">=</span> <span class="type">NSLineBreakMode</span>.byWordWrapping</span><br><span class="line">    preTextLabel.numberOfLines <span class="operator">=</span> <span class="number">0</span></span><br><span class="line">    preTextLabel.snp.makeConstraints &#123;(preTextLabel) <span class="keyword">in</span></span><br><span class="line">        preTextLabel.width.equalTo(<span class="number">300</span>)</span><br><span class="line">        preTextLabel.centerX.equalToSuperview().offset(<span class="operator">-</span><span class="number">25</span>)</span><br><span class="line">        preTextLabel.centerY.equalToSuperview().offset(<span class="operator">-</span><span class="number">50</span>)</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span> i <span class="operator">&lt;=</span> <span class="number">8</span>&#123;</span><br><span class="line">    <span class="keyword">let</span> output <span class="operator">=</span> str.prefix(i)</span><br><span class="line">    preTextLabel.text <span class="operator">=</span> <span class="type">String</span>(output)</span><br><span class="line">    i<span class="operator">+=</span><span class="number">1</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">else</span> &#123;</span><br><span class="line">    timer.invalidate()</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">if</span> i <span class="operator">==</span> <span class="number">8</span>&#123;</span><br><span class="line">    <span class="keyword">self</span>.view.addSubview(<span class="type">TextField</span>)</span><br><span class="line">    <span class="type">TextField</span>.snp.makeConstraints &#123;(textField) <span class="keyword">in</span></span><br><span class="line">        textField.width.equalTo(<span class="number">100</span>)</span><br><span class="line">        textField.centerY.equalTo(preTextLabel)</span><br><span class="line">        textField.centerX.equalTo(preTextLabel).offset(<span class="number">25</span>)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">   </span><br></pre></td></tr></table></figure></li><li><p>TextField代理、URL会话配置及访问、防呆、分析返回数据</p><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">TextField</span>.resignFirstResponder()</span><br><span class="line">cons <span class="operator">=</span> <span class="type">TextField</span>.text<span class="operator">!</span></span><br><span class="line"><span class="keyword">if</span> cons <span class="operator">==</span> <span class="string">&quot;水瓶&quot;</span> <span class="operator">||</span> cons <span class="operator">==</span> <span class="string">&quot;双鱼&quot;</span> <span class="operator">||</span> cons <span class="operator">==</span> <span class="string">&quot;白羊&quot;</span> <span class="operator">||</span> cons <span class="operator">==</span> <span class="string">&quot;金牛&quot;</span> <span class="operator">||</span> cons <span class="operator">==</span> <span class="string">&quot;双子&quot;</span> <span class="operator">||</span> cons <span class="operator">==</span> <span class="string">&quot;巨蟹&quot;</span> <span class="operator">||</span> cons <span class="operator">==</span> <span class="string">&quot;狮子&quot;</span> <span class="operator">||</span> cons <span class="operator">==</span> <span class="string">&quot;处女&quot;</span> <span class="operator">||</span> cons <span class="operator">==</span> <span class="string">&quot;天秤&quot;</span> <span class="operator">||</span> cons <span class="operator">==</span> <span class="string">&quot;天蝎&quot;</span> <span class="operator">||</span> cons <span class="operator">==</span> <span class="string">&quot;射手&quot;</span> <span class="operator">||</span> cons <span class="operator">==</span> <span class="string">&quot;摩羯&quot;</span> &#123;</span><br><span class="line">    cons <span class="operator">=</span> cons <span class="operator">+</span> <span class="string">&quot;座&quot;</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">let</span> urlString <span class="operator">=</span> <span class="string">&quot;http://web.juhe.cn:8080/constellation/getAll?key=b9e394f24f7890c24b19db0ef6b44c00&amp;type=today&amp;consName=<span class="subst">\(cons)</span>&quot;</span></span><br><span class="line"><span class="keyword">let</span> urlStr <span class="operator">=</span> urlString.addingPercentEncoding(withAllowedCharacters: .urlQueryAllowed)</span><br><span class="line"><span class="keyword">let</span> config <span class="operator">=</span> <span class="type">URLSessionConfiguration</span>.default</span><br><span class="line"><span class="keyword">let</span> url <span class="operator">=</span> <span class="type">URL</span>(string: urlStr<span class="operator">!</span>)</span><br><span class="line"><span class="keyword">let</span> session <span class="operator">=</span> <span class="type">URLSession</span>(configuration: config)</span><br><span class="line"><span class="keyword">let</span> task <span class="operator">=</span> session.dataTask(with: url<span class="operator">!</span>) &#123;(data, response, error) <span class="keyword">in</span></span><br><span class="line">    <span class="keyword">let</span> json <span class="operator">=</span> <span class="keyword">try!</span> <span class="type">JSON</span>(data: data<span class="operator">!</span>)</span><br><span class="line">    info[<span class="string">&quot;name&quot;</span>] <span class="operator">=</span> json[<span class="string">&quot;name&quot;</span>]</span><br><span class="line">    info[<span class="string">&quot;datetime&quot;</span>] <span class="operator">=</span> json[<span class="string">&quot;datetime&quot;</span>]</span><br><span class="line">    info[<span class="string">&quot;all&quot;</span>] <span class="operator">=</span> json[<span class="string">&quot;all&quot;</span>]</span><br><span class="line">    info[<span class="string">&quot;color&quot;</span>] <span class="operator">=</span> json[<span class="string">&quot;color&quot;</span>]</span><br><span class="line">    info[<span class="string">&quot;health&quot;</span>] <span class="operator">=</span> json[<span class="string">&quot;health&quot;</span>]</span><br><span class="line">    info[<span class="string">&quot;love&quot;</span>] <span class="operator">=</span> json[<span class="string">&quot;love&quot;</span>]</span><br><span class="line">    info[<span class="string">&quot;money&quot;</span>] <span class="operator">=</span> json[<span class="string">&quot;money&quot;</span>]</span><br><span class="line">    info[<span class="string">&quot;number&quot;</span>] <span class="operator">=</span> json[<span class="string">&quot;number&quot;</span>]</span><br><span class="line">    info[<span class="string">&quot;QFriend&quot;</span>] <span class="operator">=</span> json[<span class="string">&quot;QFriend&quot;</span>]</span><br><span class="line">    info[<span class="string">&quot;summary&quot;</span>] <span class="operator">=</span> json[<span class="string">&quot;summary&quot;</span>]</span><br><span class="line">    info[<span class="string">&quot;work&quot;</span>] <span class="operator">=</span> json[<span class="string">&quot;work&quot;</span>]</span><br><span class="line">    i <span class="operator">=</span> <span class="number">100</span></span><br><span class="line">&#125;</span><br><span class="line">task.resume()</span><br><span class="line"><span class="keyword">return</span> <span class="literal">true</span></span><br></pre></td></tr></table></figure></li><li><p>复写viewDidLoad：</p><ul><li>timer配置</li><li>textField配合</li><li>背景图片遍历</li></ul><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">timer <span class="operator">=</span> <span class="type">Timer</span>.scheduledTimer(timeInterval: <span class="number">0.35</span>, target: <span class="keyword">self</span>, selector: #selector(<span class="type">FateViewController</span>.preTextPrint(<span class="keyword">_</span>:)), userInfo: <span class="literal">nil</span>, repeats: <span class="literal">true</span>)</span><br><span class="line">timer2 <span class="operator">=</span> <span class="type">Timer</span>.scheduledTimer(timeInterval: <span class="number">0.1</span>, target: <span class="keyword">self</span>, selector: #selector(<span class="type">FateViewController</span>.consPrint(<span class="keyword">_</span>:)), userInfo: <span class="literal">nil</span>, repeats: <span class="literal">true</span>)</span><br><span class="line"><span class="type">TextField</span>.borderStyle <span class="operator">=</span> <span class="type">UITextField</span>.<span class="type">BorderStyle</span>.roundedRect</span><br><span class="line"><span class="type">TextField</span>.textAlignment <span class="operator">=</span> <span class="type">NSTextAlignment</span>.center</span><br><span class="line"><span class="type">TextField</span>.backgroundColor <span class="operator">=</span> <span class="type">UIColor</span>.clear</span><br><span class="line"><span class="type">TextField</span>.returnKeyType <span class="operator">=</span> <span class="type">UIReturnKeyType</span>.done</span><br><span class="line"><span class="type">TextField</span>.delegate <span class="operator">=</span> <span class="keyword">self</span></span><br><span class="line"><span class="type">TextField</span>.textColor <span class="operator">=</span> <span class="type">UIColor</span>.white</span><br><span class="line"><span class="type">TextField</span>.font <span class="operator">=</span> <span class="type">UIFont</span>(name: <span class="string">&quot;Zpix&quot;</span>, size: <span class="number">20</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> background <span class="operator">=</span> [<span class="type">UIImage</span>]()</span><br><span class="line">       <span class="keyword">for</span> i <span class="keyword">in</span> <span class="number">1</span> <span class="operator">...</span> <span class="number">4</span> &#123;</span><br><span class="line">           background.append(<span class="type">UIImage</span>(named: <span class="string">&quot;bg<span class="subst">\(i)</span>&quot;</span>)<span class="operator">!</span>)</span><br><span class="line">       &#125;</span><br><span class="line">       <span class="keyword">let</span> imageView <span class="operator">=</span> <span class="type">UIImageView</span>()</span><br><span class="line">       imageView.animationImages <span class="operator">=</span> background</span><br><span class="line">       imageView.animationDuration <span class="operator">=</span> <span class="number">5</span></span><br><span class="line">       imageView.animationRepeatCount <span class="operator">=</span> <span class="number">0</span></span><br><span class="line">       imageView.startAnimating()</span><br><span class="line">       <span class="keyword">self</span>.view.addSubview(imageView)</span><br><span class="line">       imageView.snp.makeConstraints &#123;(bg) <span class="keyword">in</span></span><br><span class="line">           bg.top.bottom.left.right.equalTo(<span class="number">0</span>)</span><br><span class="line">           bg.center.equalToSuperview()</span><br><span class="line">       &#125;</span><br></pre></td></tr></table></figure></li><li><p>timer配置（打字机）、增加约束</p><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br></pre></td><td class="code"><pre><span class="line">consLabel.backgroundColor <span class="operator">=</span> <span class="type">UIColor</span>.clear</span><br><span class="line">        <span class="keyword">self</span>.view.addSubview(consLabel)</span><br><span class="line">        consLabel.textColor <span class="operator">=</span> <span class="type">UIColor</span>.white</span><br><span class="line">        consLabel.lineBreakMode <span class="operator">=</span> <span class="type">NSLineBreakMode</span>.byWordWrapping</span><br><span class="line">        consLabel.numberOfLines <span class="operator">=</span> <span class="number">0</span></span><br><span class="line">        consLabel.snp.makeConstraints &#123;(consLabel) <span class="keyword">in</span></span><br><span class="line">            consLabel.width.equalTo(<span class="number">300</span>)</span><br><span class="line">            consLabel.center.equalToSuperview()</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> i <span class="operator">==</span> <span class="number">100</span> &#123;</span><br><span class="line">            <span class="keyword">if</span> cons <span class="operator">==</span> <span class="string">&quot;白羊座&quot;</span> <span class="operator">||</span> cons <span class="operator">==</span> <span class="string">&quot;金牛座&quot;</span> <span class="operator">||</span> cons <span class="operator">==</span> <span class="string">&quot;双子座&quot;</span> <span class="operator">||</span> cons <span class="operator">==</span> <span class="string">&quot;巨蟹座&quot;</span> <span class="operator">||</span> cons <span class="operator">==</span> <span class="string">&quot;狮子座&quot;</span> <span class="operator">||</span> cons <span class="operator">==</span> <span class="string">&quot;处女座&quot;</span> <span class="operator">||</span> cons <span class="operator">==</span> <span class="string">&quot;天秤座&quot;</span> <span class="operator">||</span> cons <span class="operator">==</span> <span class="string">&quot;天蝎座&quot;</span> <span class="operator">||</span> cons <span class="operator">==</span> <span class="string">&quot;射手座&quot;</span> <span class="operator">||</span> cons <span class="operator">==</span> <span class="string">&quot;摩羯座&quot;</span> <span class="operator">||</span> cons <span class="operator">==</span> <span class="string">&quot;水瓶座&quot;</span> <span class="operator">||</span> cons <span class="operator">==</span> <span class="string">&quot;双鱼座&quot;</span> &#123;</span><br><span class="line">            <span class="keyword">let</span> printStr <span class="operator">=</span> <span class="string">&quot;<span class="subst">\(info[<span class="string">&quot;datetime&quot;</span>]<span class="operator">!</span>.string<span class="operator">!</span>)</span>的<span class="subst">\(info[<span class="string">&quot;name&quot;</span>]<span class="operator">!</span>.string<span class="operator">!</span>)</span><span class="subst">\n</span>综合指数:<span class="subst">\(info[<span class="string">&quot;all&quot;</span>]<span class="operator">!</span>.string<span class="operator">!</span>)</span><span class="subst">\n</span>幸运色:<span class="subst">\(info[<span class="string">&quot;color&quot;</span>]<span class="operator">!</span>.string<span class="operator">!</span>)</span><span class="subst">\n</span>健康指数:<span class="subst">\(info[<span class="string">&quot;health&quot;</span>]<span class="operator">!</span>.string<span class="operator">!</span>)</span><span class="subst">\n</span>爱情指数:<span class="subst">\(info[<span class="string">&quot;love&quot;</span>]<span class="operator">!</span>.string<span class="operator">!</span>)</span><span class="subst">\n</span>财运指数:<span class="subst">\(info[<span class="string">&quot;money&quot;</span>]<span class="operator">!</span>.string<span class="operator">!</span>)</span><span class="subst">\n</span>幸运数字:<span class="subst">\(info[<span class="string">&quot;number&quot;</span>]<span class="operator">!</span>.int<span class="operator">!</span>)</span><span class="subst">\n</span>速配星座:<span class="subst">\(info[<span class="string">&quot;QFriend&quot;</span>]<span class="operator">!</span>.string<span class="operator">!</span>)</span><span class="subst">\n</span>工作指数:<span class="subst">\(info[<span class="string">&quot;work&quot;</span>]<span class="operator">!</span>.string<span class="operator">!</span>)</span><span class="subst">\n</span>今日概述:<span class="subst">\(info[<span class="string">&quot;summary&quot;</span>]<span class="operator">!</span>.string<span class="operator">!</span>)</span>&quot;</span></span><br><span class="line">            preTextLabel.text <span class="operator">=</span> <span class="string">&quot;&quot;</span></span><br><span class="line">            <span class="type">TextField</span>.removeFromSuperview()</span><br><span class="line">            <span class="keyword">if</span> times <span class="operator">&lt;=</span> printStr.count &#123;</span><br><span class="line">                <span class="keyword">let</span> output <span class="operator">=</span> printStr.prefix(times)</span><br><span class="line">                <span class="keyword">let</span> paraph <span class="operator">=</span> <span class="type">NSMutableParagraphStyle</span>()</span><br><span class="line">                paraph.lineSpacing <span class="operator">=</span> <span class="number">10</span></span><br><span class="line">                <span class="keyword">let</span> attributes <span class="operator">=</span> [<span class="type">NSAttributedString</span>.<span class="type">Key</span>.font: <span class="type">UIFont</span>(name: <span class="string">&quot;Zpix&quot;</span>, size: <span class="number">22</span>),</span><br><span class="line">                                  <span class="type">NSAttributedString</span>.<span class="type">Key</span>.paragraphStyle: paraph]</span><br><span class="line">                consLabel.attributedText <span class="operator">=</span> <span class="type">NSAttributedString</span>(string: <span class="type">String</span>(output), attributes: attributes)</span><br><span class="line">                times<span class="operator">+=</span><span class="number">1</span></span><br><span class="line">                </span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">else</span> &#123;</span><br><span class="line">                timer2.invalidate()</span><br><span class="line">                <span class="keyword">let</span> <span class="type">Return</span> <span class="operator">=</span> <span class="type">UIButton</span>(type: <span class="type">UIButton</span>.<span class="type">ButtonType</span>.roundedRect)</span><br><span class="line">                <span class="keyword">let</span> returnImage <span class="operator">=</span> <span class="type">UIImage</span>(named: <span class="string">&quot;return&quot;</span>)</span><br><span class="line">                <span class="type">Return</span>.setBackgroundImage(returnImage, for: .normal)</span><br><span class="line">                <span class="type">Return</span>.addTarget(<span class="keyword">self</span>, action: #selector(<span class="keyword">self</span>.returnHome(<span class="keyword">_</span>:)), for: <span class="type">UIControl</span>.<span class="type">Event</span>.touchUpInside)</span><br><span class="line">                <span class="keyword">self</span>.view.addSubview(<span class="type">Return</span>)</span><br><span class="line">                <span class="type">Return</span>.snp.makeConstraints &#123;(button) <span class="keyword">in</span></span><br><span class="line">                    button.centerX.equalTo(consLabel).offset(<span class="number">150</span>)</span><br><span class="line">                    button.centerY.equalTo(consLabel).offset(<span class="number">320</span>)</span><br><span class="line">                &#125;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">else</span> &#123;</span><br><span class="line">                preTextLabel.text <span class="operator">=</span> <span class="string">&quot;&quot;</span></span><br><span class="line">                <span class="type">TextField</span>.removeFromSuperview()</span><br><span class="line">                <span class="keyword">let</span> str <span class="operator">=</span> <span class="string">&quot;没有在星座大全中找到<span class="subst">\(cons)</span><span class="subst">\n</span>检查一下吧&quot;</span></span><br><span class="line">                <span class="keyword">if</span> times <span class="operator">&lt;=</span> str.count &#123;</span><br><span class="line">                    <span class="keyword">let</span> output <span class="operator">=</span> str.prefix(times)</span><br><span class="line">                    <span class="keyword">let</span> paraph <span class="operator">=</span> <span class="type">NSMutableParagraphStyle</span>()</span><br><span class="line">                    paraph.lineSpacing <span class="operator">=</span> <span class="number">10</span></span><br><span class="line">                    <span class="keyword">let</span> attributes <span class="operator">=</span> [<span class="type">NSAttributedString</span>.<span class="type">Key</span>.font: <span class="type">UIFont</span>(name: <span class="string">&quot;Zpix&quot;</span>, size: <span class="number">22</span>),</span><br><span class="line">                                                     <span class="type">NSAttributedString</span>.<span class="type">Key</span>.paragraphStyle: paraph]</span><br><span class="line">                    consLabel.attributedText <span class="operator">=</span> <span class="type">NSAttributedString</span>(string: <span class="type">String</span>(output), attributes: attributes)</span><br><span class="line">                    times<span class="operator">+=</span><span class="number">1</span></span><br><span class="line">                &#125;</span><br><span class="line">                <span class="keyword">else</span> &#123;</span><br><span class="line">                    timer2.invalidate()</span><br><span class="line">                    <span class="keyword">let</span> <span class="type">Return</span> <span class="operator">=</span> <span class="type">UIButton</span>(type: <span class="type">UIButton</span>.<span class="type">ButtonType</span>.roundedRect)</span><br><span class="line">                    <span class="keyword">let</span> returnImage <span class="operator">=</span> <span class="type">UIImage</span>(named: <span class="string">&quot;return&quot;</span>)</span><br><span class="line">                    <span class="type">Return</span>.setBackgroundImage(returnImage, for: .normal)</span><br><span class="line">                    <span class="type">Return</span>.addTarget(<span class="keyword">self</span>, action: #selector(<span class="keyword">self</span>.returnHome(<span class="keyword">_</span>:)), for: <span class="type">UIControl</span>.<span class="type">Event</span>.touchUpInside)</span><br><span class="line">                    <span class="keyword">self</span>.view.addSubview(<span class="type">Return</span>)</span><br><span class="line">                    <span class="type">Return</span>.snp.makeConstraints &#123;(button) <span class="keyword">in</span></span><br><span class="line">                        button.centerX.equalTo(consLabel).offset(<span class="number">110</span>)</span><br><span class="line">                        button.centerY.equalTo(consLabel).offset(<span class="number">40</span>)</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;</span><br><span class="line">                </span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br></pre></td></tr></table></figure><p><a href="/download/FateViewController.swift">原文件</a></p></li></ol>]]></content>
    
    
    <summary type="html">&lt;p&gt;Fate页主要实现功能：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;用户输入星座&lt;/li&gt;
&lt;li&gt;返回当日运势&lt;/li&gt;
&lt;li&gt;打字机输出&lt;/li&gt;
&lt;li&gt;返回首页&lt;/li&gt;
&lt;/ul&gt;</summary>
    
    
    
    <category term="iOS" scheme="https://sknyt.xyz/categories/iOS/"/>
    
    
    <category term="MyPlanet" scheme="https://sknyt.xyz/tags/MyPlanet/"/>
    
  </entry>
  
  <entry>
    <title>My Planet-WeatherViewController</title>
    <link href="https://sknyt.xyz/iOS/Weather/"/>
    <id>https://sknyt.xyz/iOS/Weather/</id>
    <published>2020-04-04T03:36:36.000Z</published>
    <updated>2021-02-17T03:59:13.735Z</updated>
    
    <content type="html"><![CDATA[<p>Music页主要实现功能：</p><ul><li>自动定位</li><li>获取当地天气</li><li>打字机显示</li><li>返回首页</li></ul><a id="more"></a><hr><p>API源：<a href="https://developer.amap.com/">高德API</a></p><hr><p>地名与编号对应文档：<a href="/download/WeatherNum.plist">点击下载</a></p><hr><h2 id="全局部分"><a href="#全局部分" class="headerlink" title="全局部分"></a>全局部分</h2><ol><li><p>引入：</p><ul><li>UIKit</li><li>CoreLocation</li><li><a href="https://github.com/SwiftyJSON/SwiftyJSON">SwiftyJSON（JSON解决方案）</a></li></ul><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> UIKit</span><br><span class="line"><span class="keyword">import</span> CoreLocation</span><br><span class="line"><span class="keyword">import</span> SwiftyJSON</span><br></pre></td></tr></table></figure><h2 id="UIViewController类"><a href="#UIViewController类" class="headerlink" title="UIViewController类"></a>UIViewController类</h2></li><li><p>变量、常量声明：</p><ul><li>UILabel</li><li>UITextField（用于输出文本）</li><li>API地址</li><li>重组字符串</li><li>准备文字</li><li>timer</li><li>现在区域</li><li>遍历次数</li><li>JSON包</li></ul><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> preTextLabel <span class="operator">=</span> <span class="type">UILabel</span>()</span><br><span class="line"><span class="keyword">let</span> weatherInfo <span class="operator">=</span> <span class="type">UILabel</span>()</span><br><span class="line"><span class="keyword">let</span> textField <span class="operator">=</span> <span class="type">UITextField</span>()</span><br><span class="line"><span class="keyword">var</span> warning <span class="operator">=</span> <span class="number">0</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> tudeToLocation <span class="operator">=</span> <span class="string">&quot;https://restapi.amap.com/v3/geocode/regeo?output=JSON&amp;radius=1000&amp;extensions=all&amp;key=14960ff6beb497b9b3976a298a7823d4&amp;location=%@&quot;</span></span><br><span class="line"><span class="keyword">let</span> weatherUrl <span class="operator">=</span> <span class="string">&quot;https://restapi.amap.com/v3/weather/weatherInfo?key=ac27e18866b8b0b3b5270054264a484d&amp;city=%@&quot;</span></span><br><span class="line"><span class="keyword">let</span> preText <span class="operator">=</span> <span class="string">&quot;正在给气象局打电话...&quot;</span></span><br><span class="line"><span class="keyword">var</span> timer:<span class="type">Timer</span>!</span><br><span class="line"><span class="keyword">var</span> timer2:<span class="type">Timer</span>!</span><br><span class="line"><span class="keyword">var</span> nowDistrict <span class="operator">=</span> <span class="string">&quot;nil&quot;</span></span><br><span class="line"><span class="keyword">var</span> times <span class="operator">=</span> <span class="number">0</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> info:<span class="type">Dictionary</span>&lt;<span class="type">String</span>,<span class="type">JSON</span>&gt; <span class="operator">=</span> [<span class="string">&quot;温度&quot;</span>:<span class="type">JSON</span>(<span class="string">&quot;nil&quot;</span>),<span class="string">&quot;湿度&quot;</span>:<span class="type">JSON</span>(<span class="string">&quot;nil&quot;</span>),<span class="string">&quot;天气&quot;</span>:<span class="type">JSON</span>(<span class="string">&quot;nil&quot;</span>),<span class="string">&quot;风向&quot;</span>:<span class="type">JSON</span>(<span class="string">&quot;nil&quot;</span>),<span class="string">&quot;风力&quot;</span>:<span class="type">JSON</span>(<span class="string">&quot;nil&quot;</span>)]</span><br><span class="line">   </span><br><span class="line"><span class="keyword">var</span> i <span class="operator">=</span> <span class="number">0</span></span><br></pre></td></tr></table></figure></li><li><p>timer配置</p><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">preTextLabel.backgroundColor <span class="operator">=</span> <span class="type">UIColor</span>.clear</span><br><span class="line">            <span class="keyword">self</span>.view.addSubview(preTextLabel)</span><br><span class="line">            preTextLabel.textColor <span class="operator">=</span> <span class="type">UIColor</span>.white</span><br><span class="line">            preTextLabel.font <span class="operator">=</span> <span class="type">UIFont</span>(name: <span class="string">&quot;Zpix&quot;</span>, size: <span class="number">20</span>)</span><br><span class="line">            preTextLabel.lineBreakMode <span class="operator">=</span> <span class="type">NSLineBreakMode</span>.byWordWrapping</span><br><span class="line">            preTextLabel.numberOfLines <span class="operator">=</span> <span class="number">0</span></span><br><span class="line">            preTextLabel.snp.makeConstraints &#123;(preTextLabel) <span class="keyword">in</span></span><br><span class="line">                preTextLabel.width.equalTo(<span class="number">300</span>)</span><br><span class="line">                preTextLabel.centerX.equalToSuperview().offset(<span class="operator">-</span><span class="number">25</span>)</span><br><span class="line">                preTextLabel.centerY.equalToSuperview().offset(<span class="operator">-</span><span class="number">50</span>)</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span> i <span class="operator">&lt;=</span> <span class="number">12</span>&#123;</span><br><span class="line">            <span class="keyword">let</span> output <span class="operator">=</span> preText.prefix(i)</span><br><span class="line">            preTextLabel.text <span class="operator">=</span> <span class="type">String</span>(output)</span><br><span class="line">            i<span class="operator">+=</span><span class="number">1</span></span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span> &#123;</span><br><span class="line">            timer.invalidate()</span><br><span class="line">        &#125;</span><br></pre></td></tr></table></figure></li><li><p>复写viewDidLoad</p><ul><li>配置timer</li><li>配置plist文件路径</li><li>配置JSON字典文件转为data</li><li>读取plist文件</li><li>拼接字符串</li><li>配置URL连接</li><li>开启URL会话</li><li>分析返回数据并按照“温度、湿度、风向、风力、天气”分类并放入字典</li><li>设置背景</li><li>约束</li></ul><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br></pre></td><td class="code"><pre><span class="line">timer <span class="operator">=</span> <span class="type">Timer</span>.scheduledTimer(timeInterval: <span class="number">0.3</span>, target: <span class="keyword">self</span>, selector: #selector(<span class="type">WeatherViewController</span>.preTextPrint(<span class="keyword">_</span>:)), userInfo: <span class="literal">nil</span>, repeats: <span class="literal">true</span>)</span><br><span class="line">timer2 <span class="operator">=</span> <span class="type">Timer</span>.scheduledTimer(timeInterval: <span class="number">0.1</span>, target: <span class="keyword">self</span>, selector: #selector(<span class="type">WeatherViewController</span>.weatherinfo(<span class="keyword">_</span>:)), userInfo: <span class="literal">nil</span>, repeats: <span class="literal">true</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> plistPath <span class="operator">=</span> <span class="type">Bundle</span>.main.path(forResource: <span class="string">&quot;WeatherNum&quot;</span>, ofType: <span class="string">&quot;plist&quot;</span>)</span><br><span class="line"><span class="keyword">let</span> data <span class="operator">=</span> <span class="type">NSMutableDictionary</span>.<span class="keyword">init</span>(contentsOfFile: plistPath<span class="operator">!</span>)<span class="operator">!</span></span><br><span class="line"></span><br><span class="line"><span class="type">UserDefaults</span>().string(forKey: <span class="string">&quot;info&quot;</span>)</span><br><span class="line"><span class="keyword">let</span> <span class="type">RelongtitudePlusLatitude</span>  <span class="operator">=</span> longtitudePlusLatitude<span class="operator">?</span>.addingPercentEncoding(withAllowedCharacters: <span class="type">CharacterSet</span>.urlQueryAllowed) <span class="operator">??</span> <span class="string">&quot;&quot;</span></span><br><span class="line"><span class="keyword">let</span> config1 <span class="operator">=</span> <span class="type">URLSessionConfiguration</span>.default</span><br><span class="line"><span class="keyword">let</span> url1 <span class="operator">=</span> <span class="type">URL</span>(string: <span class="type">String</span>(format: tudeToLocation, <span class="type">RelongtitudePlusLatitude</span>))</span><br><span class="line"><span class="keyword">let</span> request1 <span class="operator">=</span> <span class="type">URLRequest</span>(url: url1<span class="operator">!</span>)</span><br><span class="line"><span class="keyword">let</span> session1 <span class="operator">=</span> <span class="type">URLSession</span>(configuration: config1)</span><br><span class="line"><span class="keyword">let</span> task1 <span class="operator">=</span> session1.dataTask(with: request1) &#123; (data1, response, error) <span class="keyword">in</span></span><br><span class="line">    <span class="keyword">let</span> json1 <span class="operator">=</span> <span class="keyword">try!</span> <span class="type">JSON</span>(data: data1<span class="operator">!</span>)</span><br><span class="line">    <span class="keyword">self</span>.nowDistrict <span class="operator">=</span> json1[<span class="string">&quot;regeocode&quot;</span>][<span class="string">&quot;addressComponent&quot;</span>][<span class="string">&quot;district&quot;</span>].stringValue</span><br><span class="line">    <span class="keyword">if</span> <span class="keyword">self</span>.nowDistrict <span class="operator">==</span> <span class="string">&quot;&quot;</span> <span class="operator">||</span> <span class="keyword">self</span>.nowDistrict <span class="operator">==</span> <span class="string">&quot;&quot;</span>&#123;</span><br><span class="line">        <span class="keyword">self</span>.warning <span class="operator">=</span> <span class="number">1</span></span><br><span class="line">        <span class="keyword">let</span> alertController <span class="operator">=</span> <span class="type">UIAlertController</span>(title: <span class="string">&quot;没有获取到您的经纬度<span class="subst">\n</span>即将返回星球主页…&quot;</span>, message: <span class="literal">nil</span>, preferredStyle: .alert)</span><br><span class="line">        <span class="keyword">self</span>.present(alertController, animated: <span class="literal">true</span>, completion: <span class="literal">nil</span>)</span><br><span class="line">        <span class="type">DispatchQueue</span>.main.asyncAfter(deadline: <span class="type">DispatchTime</span>.now() <span class="operator">+</span> <span class="number">4</span>) &#123;</span><br><span class="line">            <span class="keyword">self</span>.presentedViewController<span class="operator">?</span>.dismiss(animated: <span class="literal">false</span>, completion: <span class="literal">nil</span>)</span><br><span class="line">            <span class="keyword">self</span>.dismiss(animated: <span class="literal">true</span>, completion: <span class="literal">nil</span>)</span><br><span class="line">   </span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">else</span> &#123;</span><br><span class="line">    <span class="keyword">let</span> midNum <span class="operator">=</span> data[<span class="keyword">self</span>.nowDistrict]<span class="operator">!</span> <span class="keyword">as!</span> <span class="type">String</span></span><br><span class="line">    <span class="keyword">let</span> districtNum <span class="operator">=</span> midNum</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">let</span> weatherUrl <span class="operator">=</span> <span class="string">&quot;https://restapi.amap.com/v3/weather/weatherInfo?key=ac27e18866b8b0b3b5270054264a484d&amp;city=<span class="subst">\(districtNum)</span>&quot;</span></span><br><span class="line">    <span class="keyword">let</span> config2 <span class="operator">=</span> <span class="type">URLSessionConfiguration</span>.default</span><br><span class="line">    <span class="keyword">let</span> url2 <span class="operator">=</span> <span class="type">URL</span>(string: <span class="type">String</span>(format: weatherUrl))</span><br><span class="line">    <span class="keyword">let</span> request2 <span class="operator">=</span> <span class="type">URLRequest</span>(url: url2<span class="operator">!</span>)</span><br><span class="line">    <span class="keyword">let</span> session2 <span class="operator">=</span> <span class="type">URLSession</span>(configuration: config2)</span><br><span class="line">    <span class="keyword">let</span> task2 <span class="operator">=</span> session2.dataTask(with: request2) &#123; (data2, response, error) <span class="keyword">in</span></span><br><span class="line">        <span class="keyword">let</span> json2 <span class="operator">=</span> <span class="keyword">try!</span> <span class="type">JSON</span>(data: data2<span class="operator">!</span>)</span><br><span class="line">        <span class="keyword">self</span>.info[<span class="string">&quot;温度&quot;</span>] <span class="operator">=</span> json2[<span class="string">&quot;lives&quot;</span>][<span class="number">0</span>][<span class="string">&quot;temperature&quot;</span>]</span><br><span class="line">        <span class="keyword">self</span>.info[<span class="string">&quot;湿度&quot;</span>] <span class="operator">=</span> json2[<span class="string">&quot;lives&quot;</span>][<span class="number">0</span>][<span class="string">&quot;humidity&quot;</span>]</span><br><span class="line">        <span class="keyword">self</span>.info[<span class="string">&quot;风向&quot;</span>] <span class="operator">=</span> json2[<span class="string">&quot;lives&quot;</span>][<span class="number">0</span>][<span class="string">&quot;winddirection&quot;</span>]</span><br><span class="line">        <span class="keyword">self</span>.info[<span class="string">&quot;风力&quot;</span>] <span class="operator">=</span> json2[<span class="string">&quot;lives&quot;</span>][<span class="number">0</span>][<span class="string">&quot;windpower&quot;</span>]</span><br><span class="line">        <span class="keyword">self</span>.info[<span class="string">&quot;天气&quot;</span>] <span class="operator">=</span> json2[<span class="string">&quot;lives&quot;</span>][<span class="number">0</span>][<span class="string">&quot;weather&quot;</span>]</span><br><span class="line">    &#125;</span><br><span class="line">    task2.resume()</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">task1.resume()</span><br><span class="line"><span class="keyword">var</span> background <span class="operator">=</span> [<span class="type">UIImage</span>]()</span><br><span class="line">              <span class="keyword">for</span> i <span class="keyword">in</span> <span class="number">1</span> <span class="operator">...</span> <span class="number">4</span> &#123;</span><br><span class="line">                  background.append(<span class="type">UIImage</span>(named: <span class="string">&quot;bg<span class="subst">\(i)</span>&quot;</span>)<span class="operator">!</span>)</span><br><span class="line">              &#125;</span><br><span class="line"><span class="keyword">let</span> imageView <span class="operator">=</span> <span class="type">UIImageView</span>()</span><br><span class="line">imageView.animationImages <span class="operator">=</span> background</span><br><span class="line">imageView.animationDuration <span class="operator">=</span> <span class="number">5</span></span><br><span class="line">imageView.animationRepeatCount <span class="operator">=</span> <span class="number">0</span></span><br><span class="line">imageView.startAnimating()</span><br><span class="line"><span class="keyword">self</span>.view.addSubview(imageView)</span><br><span class="line">    imageView.snp.makeConstraints &#123;(bg) <span class="keyword">in</span></span><br><span class="line">    bg.top.bottom.left.right.equalTo(<span class="number">0</span>)</span><br><span class="line">    bg.center.equalToSuperview()</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li><p>timer配置（打字机）</p><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> humidity <span class="operator">=</span> info[<span class="string">&quot;湿度&quot;</span>]<span class="operator">?</span>.string</span><br><span class="line">        <span class="keyword">let</span> temperature <span class="operator">=</span> info[<span class="string">&quot;温度&quot;</span>]<span class="operator">?</span>.string</span><br><span class="line">        <span class="keyword">let</span> winddirection <span class="operator">=</span> info[<span class="string">&quot;风向&quot;</span>]<span class="operator">?</span>.string</span><br><span class="line">        <span class="keyword">let</span> weather <span class="operator">=</span> info[<span class="string">&quot;天气&quot;</span>]<span class="operator">?</span>.string</span><br><span class="line">        <span class="keyword">let</span> windpower <span class="operator">=</span> info[<span class="string">&quot;风力&quot;</span>]<span class="operator">?</span>.string</span><br><span class="line">        <span class="keyword">let</span> weatherString <span class="operator">=</span> <span class="string">&quot;<span class="subst">\(nowDistrict)</span>现在的天气是:<span class="subst">\n</span>温度:<span class="subst">\(temperature<span class="operator">!</span>)</span>℃！<span class="subst">\n</span>湿度:<span class="subst">\(humidity<span class="operator">!</span>)</span>%！<span class="subst">\n</span>天气状况:<span class="subst">\(weather<span class="operator">!</span>)</span>！<span class="subst">\n</span>风力:<span class="subst">\(windpower<span class="operator">!</span>)</span>！<span class="subst">\n</span>风向:<span class="subst">\(winddirection<span class="operator">!</span>)</span>！<span class="subst">\n</span>报告完毕！&quot;</span></span><br><span class="line">        weatherInfo.backgroundColor <span class="operator">=</span> <span class="type">UIColor</span>.clear</span><br><span class="line">        <span class="keyword">self</span>.view.addSubview(weatherInfo)</span><br><span class="line">        weatherInfo.textColor <span class="operator">=</span> <span class="type">UIColor</span>.white</span><br><span class="line">        weatherInfo.lineBreakMode <span class="operator">=</span> <span class="type">NSLineBreakMode</span>.byWordWrapping</span><br><span class="line">        weatherInfo.numberOfLines <span class="operator">=</span> <span class="number">0</span></span><br><span class="line">        weatherInfo.snp.makeConstraints &#123;(weatherInfo) <span class="keyword">in</span></span><br><span class="line">            weatherInfo.center.equalToSuperview()</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> warning <span class="operator">==</span> <span class="number">1</span>&#123;</span><br><span class="line">            weatherInfo.removeFromSuperview()</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> i<span class="operator">==</span><span class="number">13</span> &#123;</span><br><span class="line">            preTextLabel.text <span class="operator">=</span> <span class="string">&quot;&quot;</span></span><br><span class="line">            <span class="keyword">if</span> times <span class="operator">&lt;=</span> weatherString.count&#123;</span><br><span class="line">                <span class="keyword">let</span> output <span class="operator">=</span> weatherString.prefix(times)</span><br><span class="line">                <span class="keyword">let</span> paraph <span class="operator">=</span> <span class="type">NSMutableParagraphStyle</span>()</span><br><span class="line">                paraph.lineSpacing <span class="operator">=</span> <span class="number">10</span></span><br><span class="line">                <span class="keyword">let</span> attributes <span class="operator">=</span> [<span class="type">NSAttributedString</span>.<span class="type">Key</span>.font: <span class="type">UIFont</span>(name: <span class="string">&quot;Zpix&quot;</span>, size: <span class="number">22</span>),<span class="type">NSAttributedString</span>.<span class="type">Key</span>.paragraphStyle: paraph]</span><br><span class="line">                weatherInfo.attributedText <span class="operator">=</span> <span class="type">NSAttributedString</span>(string: <span class="type">String</span>(output), attributes: attributes <span class="keyword">as</span> [<span class="type">NSAttributedString</span>.Key : <span class="keyword">Any</span>])</span><br><span class="line">                times<span class="operator">+=</span><span class="number">1</span></span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">else</span> &#123;</span><br><span class="line">                timer2.invalidate()</span><br><span class="line">                <span class="keyword">let</span> <span class="type">Return</span> <span class="operator">=</span> <span class="type">UIButton</span>(type: <span class="type">UIButton</span>.<span class="type">ButtonType</span>.roundedRect)</span><br><span class="line">                <span class="keyword">let</span> returnImage <span class="operator">=</span> <span class="type">UIImage</span>(named: <span class="string">&quot;return&quot;</span>)</span><br><span class="line">                <span class="type">Return</span>.setBackgroundImage(returnImage, for: .normal)</span><br><span class="line">                <span class="type">Return</span>.addTarget(<span class="keyword">self</span>, action: #selector(<span class="keyword">self</span>.returnHome(<span class="keyword">_</span>:)), for: <span class="type">UIControl</span>.<span class="type">Event</span>.touchUpInside)</span><br><span class="line">                <span class="keyword">self</span>.view.addSubview(<span class="type">Return</span>)</span><br><span class="line">                <span class="type">Return</span>.snp.makeConstraints &#123;(button) <span class="keyword">in</span></span><br><span class="line">                    button.centerX.equalTo(weatherInfo).offset(<span class="number">100</span>)</span><br><span class="line">                    button.centerY.equalTo(weatherInfo).offset(<span class="number">120</span>)</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">        &#125;</span><br></pre></td></tr></table></figure></li><li><p>返回首页</p><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">@objc</span> <span class="function"><span class="keyword">func</span> <span class="title">returnHome</span>(<span class="keyword">_</span> <span class="params">button</span>: <span class="type">UIButton</span>)</span> &#123;</span><br><span class="line">    <span class="keyword">self</span>.dismiss(animated: <span class="literal">true</span>, completion: <span class="literal">nil</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><a href="/download/WeatherViewController.swift">原文件</a></p></li></ol>]]></content>
    
    
    <summary type="html">&lt;p&gt;Music页主要实现功能：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;自动定位&lt;/li&gt;
&lt;li&gt;获取当地天气&lt;/li&gt;
&lt;li&gt;打字机显示&lt;/li&gt;
&lt;li&gt;返回首页&lt;/li&gt;
&lt;/ul&gt;</summary>
    
    
    
    <category term="iOS" scheme="https://sknyt.xyz/categories/iOS/"/>
    
    
    <category term="MyPlanet" scheme="https://sknyt.xyz/tags/MyPlanet/"/>
    
  </entry>
  
  <entry>
    <title>My Planet-MusicViewController</title>
    <link href="https://sknyt.xyz/iOS/Music/"/>
    <id>https://sknyt.xyz/iOS/Music/</id>
    <published>2020-04-04T03:10:53.000Z</published>
    <updated>2021-02-17T03:59:27.577Z</updated>
    
    <content type="html"><![CDATA[<p>Music页主要实现功能：</p><ul><li>在线播放流媒体</li><li>简单交互</li><li>RemoteController交互</li><li>返回首页</li></ul><a id="more"></a><hr><h2 id="全局部分"><a href="#全局部分" class="headerlink" title="全局部分"></a>全局部分</h2><ol><li><p>引入：</p><ul><li>UIKit</li><li>SnapKit</li><li>AVFoundation（音频处理）</li><li>MediaPlayer（音频处理）</li><li><a href="https://github.com/tumtumtum/StreamingKit">开源StreamingKit流媒体处理包（swift与oc混编）</a><a href="/download/StreamingKit.zip">文件下载</a></li></ul><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> UIKit</span><br><span class="line"><span class="keyword">import</span> SnapKit</span><br><span class="line"><span class="keyword">import</span> AVFoundation</span><br><span class="line"><span class="keyword">import</span> MediaPlayer</span><br></pre></td></tr></table></figure></li><li><p>枚举播放器状态</p><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">enum</span> <span class="title">state</span> </span>&#123;</span><br><span class="line">    <span class="keyword">case</span> playing</span><br><span class="line">    <span class="keyword">case</span> notPlaying</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="UIViewController类"><a href="#UIViewController类" class="headerlink" title="UIViewController类"></a>UIViewController类</h2></li><li><p>变量、常量声明：</p><ul><li>随机数（用于确定随机播放在线音乐）</li><li>timer</li><li>STKAudioPlayer播放器</li><li>已播放时长</li><li>总时长</li><li>缓存状态</li></ul><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> randomNumber <span class="operator">=</span> <span class="type">Int</span>(arc4random()<span class="operator">%</span><span class="number">5</span>)<span class="operator">+</span><span class="number">1</span></span><br><span class="line"><span class="keyword">var</span> timer:<span class="type">Timer</span>!</span><br><span class="line"><span class="keyword">var</span> bgm:<span class="type">Timer</span>!</span><br><span class="line"><span class="keyword">let</span> audioPlayer <span class="operator">=</span> <span class="type">STKAudioPlayer</span>()</span><br><span class="line"><span class="keyword">var</span> duration <span class="operator">=</span> <span class="number">0.0</span></span><br><span class="line"><span class="keyword">var</span> progess <span class="operator">=</span> <span class="number">0.0</span></span><br><span class="line"><span class="keyword">var</span> bufferingStatus <span class="operator">=</span> <span class="number">2</span></span><br></pre></td></tr></table></figure></li><li><p>audioPlayer代理</p><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">audioPlayer</span>(<span class="keyword">_</span> <span class="params">audioPlayer</span>: <span class="type">STKAudioPlayer</span>, <span class="params">didStartPlayingQueueItemId</span> <span class="params">queueItemId</span>: <span class="type">NSObject</span>)</span> &#123;</span><br><span class="line">   </span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">audioPlayer</span>(<span class="keyword">_</span> <span class="params">audioPlayer</span>: <span class="type">STKAudioPlayer</span>, <span class="params">didFinishBufferingSourceWithQueueItemId</span> <span class="params">queueItemId</span>: <span class="type">NSObject</span>)</span> &#123;</span><br><span class="line">    <span class="keyword">var</span> <span class="type">NumC</span>:<span class="type">Int</span></span><br><span class="line">    <span class="type">NumC</span> <span class="operator">=</span> randomNumber</span><br><span class="line">    randomNumber <span class="operator">=</span> <span class="type">Int</span>(arc4random()<span class="operator">%</span><span class="number">5</span>)<span class="operator">+</span><span class="number">1</span></span><br><span class="line">    <span class="keyword">while</span> <span class="literal">true</span> &#123;</span><br><span class="line">        <span class="keyword">if</span> <span class="type">NumC</span> <span class="operator">==</span> randomNumber &#123;</span><br><span class="line">             randomNumber <span class="operator">=</span> <span class="type">Int</span>(arc4random()<span class="operator">%</span><span class="number">5</span>)<span class="operator">+</span><span class="number">1</span></span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span> &#123;</span><br><span class="line">            <span class="keyword">break</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    bufferingStatus <span class="operator">=</span> <span class="number">2</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">audioPlayer</span>(<span class="keyword">_</span> <span class="params">audioPlayer</span>: <span class="type">STKAudioPlayer</span>, <span class="params">stateChanged</span> <span class="params">state</span>: <span class="type">STKAudioPlayerState</span>, <span class="params">previousState</span>: <span class="type">STKAudioPlayerState</span>)</span> &#123;</span><br><span class="line">    </span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">audioPlayer</span>(<span class="keyword">_</span> <span class="params">audioPlayer</span>: <span class="type">STKAudioPlayer</span>, <span class="params">didFinishPlayingQueueItemId</span> <span class="params">queueItemId</span>: <span class="type">NSObject</span>, <span class="params">with</span> <span class="params">stopReason</span>: <span class="type">STKAudioPlayerStopReason</span>, <span class="params">andProgress</span> <span class="params">progress</span>: <span class="type">Double</span>, <span class="params">andDuration</span> <span class="params">duration</span>: <span class="type">Double</span>)</span> &#123;</span><br><span class="line">    <span class="keyword">if</span> bufferingStatus <span class="operator">!=</span> <span class="number">2</span> &#123;</span><br><span class="line">        <span class="keyword">var</span> <span class="type">NumC</span>:<span class="type">Int</span></span><br><span class="line">        <span class="type">NumC</span> <span class="operator">=</span> randomNumber</span><br><span class="line">        randomNumber <span class="operator">=</span> <span class="type">Int</span>(arc4random()<span class="operator">%</span><span class="number">5</span>)<span class="operator">+</span><span class="number">1</span></span><br><span class="line">        <span class="keyword">while</span> <span class="literal">true</span> &#123;</span><br><span class="line">            <span class="keyword">if</span> <span class="type">NumC</span> <span class="operator">==</span> randomNumber &#123;</span><br><span class="line">                 randomNumber <span class="operator">=</span> <span class="type">Int</span>(arc4random()<span class="operator">%</span><span class="number">5</span>)<span class="operator">+</span><span class="number">1</span></span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">else</span> &#123;</span><br><span class="line">                <span class="keyword">break</span></span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        bufferingStatus <span class="operator">=</span> <span class="number">2</span></span><br><span class="line">    &#125;</span><br><span class="line">    audioPlayer.stop()</span><br><span class="line">    bgm <span class="operator">=</span> <span class="type">Timer</span>.scheduledTimer(timeInterval: <span class="number">0.3</span>, target: <span class="keyword">self</span>, selector: #selector(<span class="keyword">self</span>.bgm(<span class="keyword">_</span>:)), userInfo: <span class="literal">nil</span>, repeats: <span class="literal">true</span>)</span><br><span class="line">    audioPlayer.unmute()</span><br><span class="line">    audioPlayer.play(<span class="string">&quot;http://47.115.141.93/songs/<span class="subst">\(randomNumber)</span>.mp3&quot;</span>)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">audioPlayer</span>(<span class="keyword">_</span> <span class="params">audioPlayer</span>: <span class="type">STKAudioPlayer</span>, <span class="params">unexpectedError</span> <span class="params">errorCode</span>: <span class="type">STKAudioPlayerErrorCode</span>)</span> &#123;</span><br><span class="line">    <span class="built_in">print</span>(errorCode)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li><p>增加timer事件</p><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">@objc</span> <span class="function"><span class="keyword">func</span> <span class="title">tick</span>(<span class="keyword">_</span> <span class="params">timer</span>:<span class="type">Timer</span>)</span> &#123;</span><br><span class="line">    duration <span class="operator">=</span> audioPlayer.duration</span><br><span class="line">    progess <span class="operator">=</span> audioPlayer.progress</span><br><span class="line">    <span class="keyword">if</span> audioPlayer.state <span class="operator">!=</span> <span class="type">STKAudioPlayerState</span>.buffering &#123;</span><br><span class="line">        <span class="keyword">self</span>.bufferingStatus <span class="operator">=</span> <span class="number">0</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">@objc</span> <span class="function"><span class="keyword">func</span> <span class="title">bgm</span>(<span class="keyword">_</span> <span class="params">timer</span>:<span class="type">Timer</span>)</span> &#123;</span><br><span class="line">    <span class="keyword">if</span> bufferingStatus <span class="operator">==</span> <span class="number">0</span> &#123;</span><br><span class="line">        setLockScreenDisplay()</span><br><span class="line">        bgm.invalidate()</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li><p>复写viewDidLoad：</p><ul><li>配置timer</li><li>配置audioPlayer</li><li>生效闭包</li></ul><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">timer <span class="operator">=</span> <span class="type">Timer</span>.scheduledTimer(timeInterval: <span class="number">0.35</span>, target: <span class="keyword">self</span>, selector: #selector(<span class="keyword">self</span>.tick(<span class="keyword">_</span>:)), userInfo: <span class="literal">nil</span>, repeats: <span class="literal">true</span>)</span><br><span class="line">bgm <span class="operator">=</span> <span class="type">Timer</span>.scheduledTimer(timeInterval: <span class="number">0.3</span>, target: <span class="keyword">self</span>, selector: #selector(<span class="keyword">self</span>.bgm(<span class="keyword">_</span>:)), userInfo: <span class="literal">nil</span>, repeats: <span class="literal">true</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">audioPlayer.play(<span class="string">&quot;http://47.115.141.93/songs/<span class="subst">\(randomNumber)</span>.mp3&quot;</span>)</span><br><span class="line">audioPlayer.delegate <span class="operator">=</span> <span class="keyword">self</span></span><br><span class="line"></span><br><span class="line">background()</span><br><span class="line">backgroundMusic()</span><br><span class="line">creatRemoteCommandCenter()</span><br></pre></td></tr></table></figure></li><li><p>复写viewWillAppear</p><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">becomeFirstResponder()</span><br><span class="line">     <span class="type">UIApplication</span>.shared.beginReceivingRemoteControlEvents()</span><br></pre></td></tr></table></figure></li><li><p>复写viewWillDisappear</p><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">resignFirstResponder()</span><br><span class="line">        <span class="type">UIApplication</span>.shared.endReceivingRemoteControlEvents()</span><br></pre></td></tr></table></figure></li><li><p>RemoteCenter配置</p><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">creatRemoteCommandCenter</span>()</span> &#123;</span><br><span class="line">        <span class="keyword">let</span> commandCenter <span class="operator">=</span> <span class="type">MPRemoteCommandCenter</span>.shared()</span><br><span class="line">        </span><br><span class="line">        commandCenter.playCommand.addTarget &#123; [] event <span class="keyword">in</span></span><br><span class="line">            <span class="keyword">self</span>.resumeAndPauseWhtherPause(<span class="literal">false</span>)</span><br><span class="line">            <span class="keyword">return</span> .success</span><br><span class="line">        &#125;</span><br><span class="line">        commandCenter.pauseCommand.addTarget &#123; [] event <span class="keyword">in</span></span><br><span class="line">            <span class="keyword">self</span>.resumeAndPauseWhtherPause(<span class="literal">true</span>)</span><br><span class="line">            <span class="keyword">return</span> .success</span><br><span class="line">        &#125;</span><br><span class="line">        commandCenter.nextTrackCommand.addTarget &#123; [] event <span class="keyword">in</span></span><br><span class="line">            <span class="keyword">self</span>.next()</span><br><span class="line">            <span class="keyword">return</span> .success</span><br><span class="line">        &#125;</span><br><span class="line">        commandCenter.previousTrackCommand.addTarget &#123; [] event <span class="keyword">in</span></span><br><span class="line">            <span class="keyword">self</span>.next()</span><br><span class="line">            <span class="keyword">return</span> .success</span><br><span class="line">        &#125;</span><br><span class="line">        commandCenter.changePlaybackPositionCommand.addTarget&#123; [] event <span class="keyword">in</span></span><br><span class="line">            <span class="keyword">let</span> playbackPositionEvent <span class="operator">=</span> event <span class="keyword">as?</span> <span class="type">MPChangePlaybackPositionCommandEvent</span></span><br><span class="line">            <span class="keyword">self</span>.audioPlayer.seek(toTime: playbackPositionEvent<span class="operator">!</span>.positionTime)</span><br><span class="line">            <span class="keyword">return</span> .success</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure></li><li><p>配置播放下一首歌闭包</p><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">next</span>()</span> &#123;</span><br><span class="line">    <span class="keyword">var</span> info <span class="operator">=</span> <span class="type">MPNowPlayingInfoCenter</span>.default().nowPlayingInfo</span><br><span class="line">    audioPlayer.mute()</span><br><span class="line">    audioPlayer.pause()</span><br><span class="line">    <span class="keyword">var</span> <span class="type">NumC</span>:<span class="type">Int</span></span><br><span class="line">    <span class="type">NumC</span> <span class="operator">=</span> randomNumber</span><br><span class="line">    randomNumber <span class="operator">=</span> <span class="type">Int</span>(arc4random()<span class="operator">%</span><span class="number">5</span>)<span class="operator">+</span><span class="number">1</span></span><br><span class="line">    <span class="keyword">while</span> <span class="literal">true</span> &#123;</span><br><span class="line">        <span class="keyword">if</span> <span class="type">NumC</span> <span class="operator">==</span> randomNumber &#123;</span><br><span class="line">             randomNumber <span class="operator">=</span> <span class="type">Int</span>(arc4random()<span class="operator">%</span><span class="number">5</span>)<span class="operator">+</span><span class="number">1</span></span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span> &#123;</span><br><span class="line">            <span class="keyword">break</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    bufferingStatus <span class="operator">=</span> <span class="number">2</span></span><br><span class="line">    audioPlayer.seek(toTime: duration<span class="operator">-</span><span class="number">0.001</span>)</span><br><span class="line">    info<span class="operator">!</span>[<span class="type">MPNowPlayingInfoPropertyElapsedPlaybackTime</span>] <span class="operator">=</span> audioPlayer.progress</span><br><span class="line">    audioPlayer.resume()</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">resumeAndPauseWhtherPause</span>(<span class="keyword">_</span> <span class="params">status</span>: <span class="type">Bool</span>)</span> &#123;</span><br><span class="line">    <span class="keyword">var</span> info <span class="operator">=</span> <span class="type">MPNowPlayingInfoCenter</span>.default().nowPlayingInfo</span><br><span class="line">    <span class="keyword">if</span> status &#123;</span><br><span class="line">        audioPlayer.pause()</span><br><span class="line">        info<span class="operator">!</span>[<span class="type">MPNowPlayingInfoPropertyPlaybackRate</span>] <span class="operator">=</span> <span class="number">0.00001</span></span><br><span class="line">        info<span class="operator">!</span>[<span class="type">MPNowPlayingInfoPropertyElapsedPlaybackTime</span>] <span class="operator">=</span> audioPlayer.progress</span><br><span class="line">    &#125;<span class="keyword">else</span> &#123;</span><br><span class="line">        audioPlayer.resume()</span><br><span class="line">        info<span class="operator">!</span>[<span class="type">MPNowPlayingInfoPropertyPlaybackRate</span>] <span class="operator">=</span> <span class="number">1.0</span></span><br><span class="line">        info<span class="operator">!</span>[<span class="type">MPNowPlayingInfoPropertyElapsedPlaybackTime</span>] <span class="operator">=</span> audioPlayer.progress</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="type">MPNowPlayingInfoCenter</span>.default().nowPlayingInfo <span class="operator">=</span> info</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li><p>设置锁屏RemoteController</p><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">setLockScreenDisplay</span>()</span> &#123;</span><br><span class="line">        <span class="keyword">var</span> info <span class="operator">=</span> <span class="type">Dictionary</span>&lt;<span class="type">String</span>, <span class="keyword">Any</span>&gt;()</span><br><span class="line">        info[<span class="type">MPMediaItemPropertyTitle</span>] <span class="operator">=</span> randomNumber</span><br><span class="line">        info[<span class="type">MPMediaItemPropertyPlaybackDuration</span>] <span class="operator">=</span> <span class="type">TimeInterval</span>(duration)</span><br><span class="line">        info[<span class="type">MPNowPlayingInfoPropertyPlaybackRate</span>] <span class="operator">=</span> <span class="number">1.0</span></span><br><span class="line">        <span class="type">MPNowPlayingInfoCenter</span>.default().nowPlayingInfo <span class="operator">=</span> info</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure></li><li><p>设置背景音乐闭包</p><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">backgroundMusic</span>()</span> &#123;</span><br><span class="line">        <span class="keyword">let</span> session <span class="operator">=</span> <span class="type">AVAudioSession</span>.sharedInstance()</span><br><span class="line">        <span class="keyword">try?</span> session.setCategory(<span class="type">AVAudioSession</span>.<span class="type">Category</span>.playback)</span><br><span class="line">        <span class="built_in">print</span>(<span class="type">AVAudioSession</span>.<span class="type">Category</span>.playback)</span><br><span class="line">        <span class="keyword">try?</span> session.setActive(<span class="literal">true</span>)</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure><p><a href="/download/MusicViewController.swift">原文件</a></p></li></ol>]]></content>
    
    
    <summary type="html">&lt;p&gt;Music页主要实现功能：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;在线播放流媒体&lt;/li&gt;
&lt;li&gt;简单交互&lt;/li&gt;
&lt;li&gt;RemoteController交互&lt;/li&gt;
&lt;li&gt;返回首页&lt;/li&gt;
&lt;/ul&gt;</summary>
    
    
    
    <category term="iOS" scheme="https://sknyt.xyz/categories/iOS/"/>
    
    
    <category term="MyPlanet" scheme="https://sknyt.xyz/tags/MyPlanet/"/>
    
  </entry>
  
  <entry>
    <title>My Planet-MailViewController</title>
    <link href="https://sknyt.xyz/iOS/Mail/"/>
    <id>https://sknyt.xyz/iOS/Mail/</id>
    <published>2020-04-04T02:54:56.000Z</published>
    <updated>2021-02-17T03:59:33.336Z</updated>
    
    <content type="html"><![CDATA[<p>Mail页主要实现功能：</p><ul><li>单字逐秒显示</li><li>简单交互</li><li>返回首页</li></ul><a id="more"></a><hr><h2 id="全局部分"><a href="#全局部分" class="headerlink" title="全局部分"></a>全局部分</h2><ol><li><p>引入：</p><ul><li>UIKit</li><li>SnapKit</li><li>MessageUI</li></ul><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> UIKit</span><br><span class="line"><span class="keyword">import</span> SnapKit</span><br><span class="line"><span class="keyword">import</span> MessageUI</span><br></pre></td></tr></table></figure><h2 id="UIViewController类"><a href="#UIViewController类" class="headerlink" title="UIViewController类"></a>UIViewController类</h2></li><li><p>变量、常量声明：</p><ul><li>显示的字符串</li><li>UILabel</li><li>遍历次数</li><li>UIButton</li></ul><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> str <span class="operator">=</span> <span class="string">&quot;2020年7月29日 星期三 <span class="subst">\n</span>...<span class="subst">\n</span>这将会是My Planet的最后一个版本<span class="subst">\n</span>终究是烂尾了<span class="subst">\n</span>Anyway...<span class="subst">\n</span>晚安...&quot;</span></span><br><span class="line">    <span class="keyword">let</span> text <span class="operator">=</span> <span class="type">UILabel</span>()</span><br><span class="line">    <span class="keyword">var</span> i <span class="operator">=</span> <span class="number">1</span></span><br><span class="line">    <span class="keyword">let</span> returnHomeBtn <span class="operator">=</span> <span class="type">UIButton</span>(type: <span class="type">UIButton</span>.<span class="type">ButtonType</span>.roundedRect)</span><br></pre></td></tr></table></figure></li><li><p>复写viewDidLoad闭包：</p><ul><li>timer配置</li><li>UIButton配置</li><li>背景图片遍历</li><li>UILabel配置、添加约束</li></ul><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> timer:<span class="type">Timer</span>!</span><br><span class="line">timer <span class="operator">=</span> <span class="type">Timer</span>.scheduledTimer(timeInterval: <span class="number">0.1</span>, target: <span class="keyword">self</span>, selector: #selector(<span class="type">MailViewController</span>.wordPrint(<span class="keyword">_</span>:)), userInfo: <span class="literal">nil</span>, repeats: <span class="literal">true</span>)</span><br><span class="line"></span><br><span class="line">returnHomeBtn.backgroundColor <span class="operator">=</span> <span class="type">UIColor</span>.clear</span><br><span class="line">returnHomeBtn.setTitle(<span class="string">&quot;返回主页&quot;</span>, for: .normal)</span><br><span class="line">returnHomeBtn.setTitleColor(<span class="type">UIColor</span>.white, for: <span class="type">UIControl</span>.<span class="type">State</span>())</span><br><span class="line">returnHomeBtn.titleLabel<span class="operator">?</span>.font <span class="operator">=</span> <span class="type">UIFont</span>(name: <span class="string">&quot;Zpix&quot;</span>, size: <span class="number">30</span>)</span><br><span class="line">returnHomeBtn.addTarget(<span class="keyword">self</span>, action: #selector(<span class="keyword">self</span>.returnHome(<span class="keyword">_</span>:)), for: <span class="type">UIControl</span>.<span class="type">Event</span>.touchUpInside)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> background <span class="operator">=</span> [<span class="type">UIImage</span>]()</span><br><span class="line">              <span class="keyword">for</span> i <span class="keyword">in</span> <span class="number">1</span> <span class="operator">...</span> <span class="number">4</span> &#123;</span><br><span class="line">                  background.append(<span class="type">UIImage</span>(named: <span class="string">&quot;bg<span class="subst">\(i)</span>&quot;</span>)<span class="operator">!</span>)</span><br><span class="line">              &#125;</span><br><span class="line"><span class="keyword">let</span> imageView <span class="operator">=</span> <span class="type">UIImageView</span>()</span><br><span class="line">imageView.animationImages <span class="operator">=</span> background</span><br><span class="line">imageView.animationDuration <span class="operator">=</span> <span class="number">5</span></span><br><span class="line">imageView.animationRepeatCount <span class="operator">=</span> <span class="number">0</span></span><br><span class="line">imageView.startAnimating()</span><br><span class="line"><span class="keyword">self</span>.view.addSubview(imageView)</span><br><span class="line">    imageView.snp.makeConstraints &#123;(bg) <span class="keyword">in</span></span><br><span class="line">    bg.top.bottom.left.right.equalTo(<span class="number">0</span>)</span><br><span class="line">    bg.center.equalToSuperview()</span><br><span class="line">&#125;</span><br><span class="line">   </span><br><span class="line">text.backgroundColor <span class="operator">=</span> <span class="type">UIColor</span>.clear</span><br><span class="line"><span class="keyword">self</span>.view.addSubview(text)</span><br><span class="line">text.textColor <span class="operator">=</span> <span class="type">UIColor</span>.white</span><br><span class="line">text.lineBreakMode <span class="operator">=</span> <span class="type">NSLineBreakMode</span>.byWordWrapping</span><br><span class="line">text.numberOfLines <span class="operator">=</span> <span class="number">0</span></span><br><span class="line">text.snp.makeConstraints &#123;(text) <span class="keyword">in</span></span><br><span class="line">    text.width.equalTo(<span class="number">300</span>)</span><br><span class="line">    text.center.equalToSuperview()</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li><p>timer配置</p><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> i <span class="operator">&lt;=</span> str.count&#123;</span><br><span class="line"><span class="keyword">let</span> output <span class="operator">=</span> str.prefix(i)</span><br><span class="line">    <span class="keyword">let</span> paraph <span class="operator">=</span> <span class="type">NSMutableParagraphStyle</span>()</span><br><span class="line">    paraph.lineSpacing <span class="operator">=</span> <span class="number">15</span></span><br><span class="line">    <span class="keyword">let</span> attributes <span class="operator">=</span> [<span class="type">NSAttributedString</span>.<span class="type">Key</span>.font: <span class="type">UIFont</span>(name: <span class="string">&quot;Zpix&quot;</span>, size: <span class="number">22</span>),</span><br><span class="line">                      <span class="type">NSAttributedString</span>.<span class="type">Key</span>.paragraphStyle: paraph]</span><br><span class="line">    text.attributedText <span class="operator">=</span> <span class="type">NSAttributedString</span>(string: <span class="type">String</span>(output), attributes: attributes)</span><br><span class="line">i<span class="operator">+=</span><span class="number">1</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">else</span>&#123;</span><br><span class="line">    timer.invalidate()</span><br><span class="line">    <span class="keyword">self</span>.view.addSubview(returnHomeBtn)</span><br><span class="line">    returnHomeBtn.snp.makeConstraints &#123;(btn) <span class="keyword">in</span></span><br><span class="line">        btn.centerX.equalToSuperview()</span><br><span class="line">        btn.centerY.equalTo(text).offset(<span class="number">150</span>)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li><p>返回主界面按钮</p><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">@objc</span> <span class="function"><span class="keyword">func</span> <span class="title">returnHome</span>(<span class="keyword">_</span> <span class="params">btn</span>: <span class="type">UIButton</span>)</span> &#123;</span><br><span class="line">    <span class="keyword">self</span>.dismiss(animated: <span class="literal">true</span>, completion: <span class="literal">nil</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><a href="/download/MailViewController.swift">原文件</a></p></li></ol>]]></content>
    
    
    <summary type="html">&lt;p&gt;Mail页主要实现功能：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;单字逐秒显示&lt;/li&gt;
&lt;li&gt;简单交互&lt;/li&gt;
&lt;li&gt;返回首页&lt;/li&gt;
&lt;/ul&gt;</summary>
    
    
    
    <category term="iOS" scheme="https://sknyt.xyz/categories/iOS/"/>
    
    
    <category term="MyPlanet" scheme="https://sknyt.xyz/tags/MyPlanet/"/>
    
  </entry>
  
  <entry>
    <title>码一下第一次写了篇完整的教程贴还被大佬翻牌子了</title>
    <link href="https://sknyt.xyz/iOS/top-of-the-world/"/>
    <id>https://sknyt.xyz/iOS/top-of-the-world/</id>
    <published>2019-02-16T09:11:27.000Z</published>
    <updated>2021-02-17T07:54:25.309Z</updated>
    
    <content type="html"><![CDATA[<p>其实我只是第一次发帖的萌新<img src="https://feng-bbs-att-1255531212.image.myqcloud.com/static/image/smiley/rabbit/012.gif">来源：<br>大神糖醋丶炒排骨的帖子：</p><p><a href="https://bbs.feng.com/read-htm-tid-12032331.html">https://bbs.feng.com/read-htm-tid-12032331.html</a></p><p>插件在仙里仙气的帖子：</p><p><a href="https://bbs.feng.com/read-htm-tid-12032977.html">https://bbs.feng.com/read-htm-tid-12032977.html</a></p><p>插件还可见：</p><p><a href="https://bbs.feng.com/read-htm-tid-12033683.html">https://bbs.feng.com/read-htm-tid-12033683.html</a></p><p>由于帖子一直会被审核，所以不定期更新</p><a id="more"></a><hr><p>准备工作：手机即可，有电脑最好<br>1、rootlessJB3 2、FilzaEscaped12.x（比GeoFilza更稳定）Filza作者融合了Filza和RootlessJB，下载地址：</p><p><a href="https://github.com/tigisoftware/rootlessJB3/releases/download/3.0.0/rootlessJB3.0.0.ipa">https://github.com/tigisoftware/ … rootlessJB3.0.0.ipa</a></p><p>原贴见：</p><p><a href="https://bbs.feng.com/read-htm-tid-12033932.html">https://bbs.feng.com/read-htm-tid-12033932.html</a></p><p>手机端安装：Safari打开</p><p><a href="https://app.ignition.fun/">https://app.ignition.fun</a></p><p>，点击下方从左起第二个按钮，在Jailbreaks中找到rootlessJB3，在Utilities中找到FilzaEscaped12.x点击GET，等待下载，随后再到设置中去信任，这里较简单。</p><hr><p>越狱：打开rootlessJB，点击jailbreak，等待，会自动注销</p><p><img src="https://feng-bbs-att-1255531212.image.myqcloud.com/2019/02/06/14966294_IMG_1496.PNG?imageMogr2/format/jpg/interlace/0/quality/100" alt="image"></p><p>如果过程中设备重启，则重新进行该步骤<br>安装插件：可以使用RootlessInstaller更方便的安装插件，缺点是只支持deb包安装，现在资源较少，安装方法请自行在论坛搜索，一大把。这也是最难的一部分，许多封釉不会替换鸭<img src="https://feng-bbs-att-1255531212.image.myqcloud.com/static/image/smiley/rabbit/017.gif" alt="smile"></p><hr><p><em>这里说一下，这次的越狱很特殊，插件不再是以前熟悉的deb结尾的文件了，而是一个压缩包，里面很多文件夹，需要我们自行去替换，因此很多插件需要patch后才能用，patch需要mac或linux电脑才行，所以大家只需要大神patch好后拿来用就行了，patch教程在文末</em><img src="https://feng-bbs-att-1255531212.image.myqcloud.com/static/image/smiley/rabbit/050.gif" alt="smile"></p><hr><p>首先，我们解压需要安装的插件「Filza貌似没有解压能力，可以现在其他解压软件先解压，再在Filza中打开」，打开文件夹，发现几个目录</p><p><img src="https://feng-bbs-att-1255531212.image.myqcloud.com/2019/02/06/14966295_IMG_1497.PNG?imageMogr2/format/jpg/interlace/0/quality/100" alt="image"></p><p>插件的目录在/var/LIB/，打开，细心的封釉有木有发现一些相同点<img src="https://feng-bbs-att-1255531212.image.myqcloud.com/static/image/smiley/rabbit/050.gif" alt="smile"></p><p><img src="https://feng-bbs-att-1255531212.image.myqcloud.com/2019/02/06/14966296_IMG_1498.PNG?imageMogr2/format/jpg/interlace/0/quality/100" alt="image"></p><p>没错，有几个相同的目录，我们要做的，就是要替换进去，举个例子：<br>我们打开插件的MobileSubstrate文件夹，同时打开系统的这个文件夹，发现里面都有一个DynamicLibraries文件夹，那么我们先别急着替换，继续打开，把插件的DynamicLibraries中的所有东西都复制到系统的这个目录下，这个文件夹就搞定了。主题放在/var/LIB/Themes（Themes文件夹自行创建）</p><p><img src="https://feng-bbs-att-1255531212.image.myqcloud.com/2019/02/06/14966297_IMG_1499.PNG?imageMogr2/format/jpg/interlace/0/quality/100" alt="image"></p><p><img src="https://feng-bbs-att-1255531212.image.myqcloud.com/2019/02/06/14966298_IMG_1500.PNG?imageMogr2/format/jpg/interlace/0/quality/100" alt="image"></p><p>其他几个文件夹亦是如此，一般情况下，只有PreferencesBundles中，是要整个文件夹一起复制过去的，其他的都是打开到没有文件夹为止，才开始复制，不是所有插件都有这几个文件夹，有的只要替换TweakInject文件夹，有的要替换很多个，注意分清。</p><hr><p>有的插件中打开只有两个文件：**.plist和**.dylib，这时候是直接把这两个文件复制到TweakInject文件夹中即可，这个须知</p><hr><p>使插件生效：常规做法：重启，重新激活越狱<br>高级做法「适用于有mac或linux的人」：打开手机WiFi，点击正连接的wifi右边的感叹号查看详细，查看IP地址一栏，记下。<br>在mac或linux中打开终端输入：<br>ssh root@你看到的IP地址（xxx.xxx.xxx.xxx）<br>如果让你输入yes或no，当然输入yes<br>然后让你输密码，默认都是alpine，输入的时候密码不会显示出来，然后回车，成功连接到设备了。<br>输入：inject /var/LIB/MobileSubstrate/DynamicLibraries/插件名.dylib<br>输入：killall SpringBoard<br>windows可以用putty或者xshell软件，连接ssh来实现上述步骤<br>随后插件生效手机端方法：原贴见</p><p><a href="https://bbs.feng.com/read-htm-tid-12033618.html">https://bbs.feng.com/read-htm-tid-12033618.html</a></p><p>rootlessJB更新后，在越狱时，我们勾选上iSuperSu键，在越狱过后，会发现多出现了一个app叫iSuperSu，点进去，找到ServerAuditor，点击它，点击UnSandBox，去App Store下载Terminus（SSH工具）在配置SSH中：<br>1.打开，创建一个Host<br>2.Alias是名称，随便写<br>3.Hostname写localhost或127.0.0.1<br>4.勾选SSH<br>5.username输入root，port默认了不用改<br>6.password输入alpine，默认改不了，原因是etc只读不写<br>7.打开iSuperSu，点击ServerAuditor，弹出窗口后选择Unsandbox<br>8.打开Termius，点击之前创建好的Hosts，连接成功（转自@仙里仙气）</p><p>随后与mac/linux方法一样输入命令注销，使插件生效</p><hr><p>patch方法写在前面：patch只适合有基础的人来尝试，需要mac/linux电脑，由于我也不是很会，所有我只是把排骨的内容详化了一点，有什么问题还是问排骨大神为准，原贴：bbs.feng.com/read-htm-tid-12032331.html<br>1、安装dpkg<br>在<a href="http://www.macports.org/install.php%E4%B8%8B%E8%BD%BD%E9%80%82%E5%90%88%E4%BD%A0%E7%9A%84%E7%B3%BB%E7%BB%9F%E7%9A%84%E6%96%87%E4%BB%B6%EF%BC%8C%E6%88%91%E7%9A%84%E6%98%AFOS10.14%E6%88%91%E5%B0%B1%E4%B8%8B%E8%BD%BD10.14%E7%9A%84">http://www.macports.org/install.php下载适合你的系统的文件，我的是OS10.14我就下载10.14的</a><br>然后双击打开安装<br>随后打开终端（Terminal）输入sudo port -f install dpkg 随后输入电脑密码（密码不会显示，输入完回车即可），等待。<br>dpkg安装完成<br>2、下载patch文件</p><p><img src="https://feng-bbs-att-1255531212.image.myqcloud.com/static/attachment.svg" alt="img">[patcherplus](<a href="https://feng-bbs-att-1255531212.file.myqcloud.com/2019/02/07/14966610_patcherplus">https://feng-bbs-att-1255531212.file.myqcloud.com/2019/02/07/14966610_patcherplus</a></p><p>cd patcher文件所在目录chmod +x patcherplus./patcherplus 将deb文件拖入终端的框内（出现绿色加号） 空格 输出目录例子：（这是我的，请勿复制）cd /Users/yayoi/Downloads/<br>chmod +x patcherplus<br>./patcherplus /Users/yayoi/Downloads/com.xxxx.deb .等待patch<br>patch完成后，生成Library和DEBIAN文件夹，我们要的插件就在Library文件夹内。</p><p><img src="https://feng-bbs-att-1255531212.image.myqcloud.com/static/attachment.svg" alt="img"><a href="https://feng-bbs-att-1255531212.file.myqcloud.com/2019/02/08/14967123_betterCCXI.zip">betterCCXI.zip</a></p><p><img src="https://feng-bbs-att-1255531212.image.myqcloud.com/static/attachment.svg" alt="img"><a href="https://feng-bbs-att-1255531212.file.myqcloud.com/2019/02/08/14967126_callassist1.6.zip">callassist1.6.zip</a></p><hr><p>原贴地址：<a href="https://www.feng.com/post/12033248">https://www.feng.com/post/12033248</a></p><p>论坛：<a href="https://feng.com/">威锋</a></p>]]></content>
    
    
    <summary type="html">&lt;p&gt;其实我只是第一次发帖的萌新&lt;img src=&quot;https://feng-bbs-att-1255531212.image.myqcloud.com/static/image/smiley/rabbit/012.gif&quot;&gt;来源：&lt;br&gt;大神糖醋丶炒排骨的帖子：&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;https://bbs.feng.com/read-htm-tid-12032331.html&quot;&gt;https://bbs.feng.com/read-htm-tid-12032331.html&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;插件在仙里仙气的帖子：&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;https://bbs.feng.com/read-htm-tid-12032977.html&quot;&gt;https://bbs.feng.com/read-htm-tid-12032977.html&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;插件还可见：&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;https://bbs.feng.com/read-htm-tid-12033683.html&quot;&gt;https://bbs.feng.com/read-htm-tid-12033683.html&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;由于帖子一直会被审核，所以不定期更新&lt;/p&gt;</summary>
    
    
    
    <category term="iOS" scheme="https://sknyt.xyz/categories/iOS/"/>
    
    
    <category term="随记" scheme="https://sknyt.xyz/tags/%E9%9A%8F%E8%AE%B0/"/>
    
  </entry>
  
  <entry>
    <title>码一点去过的地方</title>
    <link href="https://sknyt.xyz/Outgoing/journey/"/>
    <id>https://sknyt.xyz/Outgoing/journey/</id>
    <published>2012-05-17T07:37:41.000Z</published>
    <updated>2021-02-17T07:40:24.052Z</updated>
    
    <content type="html"><![CDATA[<p>🇹🇭🇮🇩🇸🇬🇲🇾🇰🇷🇩🇪🇨🇿🇦🇹🇭🇺🇸🇬🇹🇭🇯🇵🇳🇱🇧🇪🇱🇺🇫🇷🇯🇵🇰🇷</p><a id="more"></a><p>2020.8.10-2020.8.13 真正意义上的奶茶自由—</p><p>2020.7.16-2020.7.28 青海甘肃和那一点点的地方啦….</p><p>2020.2.1-2020.2.10 日本 北海道 韩国 首尔 </p><p>2019.7.27-2019.8.8 欧洲 荷兰 比利时 卢森堡 法国</p><p>2019.1.24-2019.1.30 中国 广西 南宁 北海 涠洲岛</p><p>2018.7.2-2018.7.9 日本 东京 小田原 京都 大阪</p><p>2018.2.29-2018.3.2 云南 岘港 中转香港</p><p>2017.7.3-2017.7.14 中国 重庆 四川成都</p><p>第一次坐卧铺火车✓</p><p>2017.1.18-2017.1.26 中国 云南 昆明 大理 丽江</p><p>2016.7.31-2016.8.5 泰国 清迈自驾曼谷</p><p>2015.8.9-2015.8.17 新加坡 新加坡</p><p>2015.7.14-2015.7.25 欧洲 德国 捷克 奥地利 匈牙利 中转俄罗斯莫斯科 危险的俄航</p><p>2015.2.11-2015.2.16 韩国 首尔</p><p>2015.2.1-2015.2.9 台湾 台北 高雄 花莲</p><p>2014.6.29-2014.7.6 台湾 台北 高雄 垦丁</p><p>2014.1.25-2014.1.29 中国 广州 深圳口岸 香港 澳门</p><p>2013.7.27-2013.8.4 印度尼西亚 巴厘岛 登巴萨</p><p>2012 泰国 普吉岛 误机</p><p>？？？？新加坡 马来西亚 兰卡威 吉隆坡</p>]]></content>
    
    
    <summary type="html">&lt;p&gt;🇹🇭🇮🇩🇸🇬🇲🇾🇰🇷🇩🇪🇨🇿🇦🇹🇭🇺🇸🇬🇹🇭🇯🇵🇳🇱🇧🇪🇱🇺🇫🇷🇯🇵🇰🇷&lt;/p&gt;</summary>
    
    
    
    <category term="Outgoing" scheme="https://sknyt.xyz/categories/Outgoing/"/>
    
    
    <category term="随记" scheme="https://sknyt.xyz/tags/%E9%9A%8F%E8%AE%B0/"/>
    
  </entry>
  
</feed>
